function appConfig(a,b,c,d){window.lazy={controller:a.register,directive:b.directive,filter:c.register,factory:d.factory,service:d.service}}function ngFileSelect(a,b){var c={restrict:"A",scope:{method:"&ngFileSelect"},link:function(a,b,c){var d=a.method();b.bind("change",function(a){d(a.target.files[0])})}};return c}function run($rootScope,$templateCache,$injector,popupService,$location,$timeout,$ocLazyLoad,$cookies,$window,settingsWindowService,$sce,projectService,variableService,deviceService){function loadAddon(addon){var serviceName=addon.service;jQuery.ajax({type:"GET",url:$rootScope.addonServerUrl+addon.src,dataType:"script",fail:function(){console.log("Can't load plugin: "+serviceName),$rootScope.downloadedAddonCount++},success:function(data,textStatus,request){try{window.lazy.factory(serviceName,eval(serviceName)),run.$inject.push(serviceName);var servObj=$injector.get(serviceName);console.log(serviceName+" addon loaded"),addon.rootScopeName&&($rootScope[addon.rootScopeName]=servObj)}catch(e){console.log("Can't load plugin: "+serviceName,e)}$rootScope.downloadedAddonCount++}})}$rootScope.settingsTabs||($rootScope.settingsTabs=[]),$rootScope.screenAddons||($rootScope.screenAddons=[]),$rootScope.mirrorMode={},$rootScope.currentUserId="user_"+variableService.guid(),projectService.appVersion="1.9.8";var queryString=$location.search();if(queryString&&queryString.RosUrl){console.log("Using ROS server in the query string");var rosurl=queryString.RosUrl,ip,port,wss=!1;0===rosurl.indexOf("wss")?(wss=!0,ip=rosurl.substring(6,rosurl.lastIndexOf(":"))):ip=rosurl.substring(5,rosurl.lastIndexOf(":")),port=rosurl.substring(rosurl.lastIndexOf(":")+1),deviceService.port=port,deviceService.ip=ip,deviceService.secure=wss,settingsWindowService.demoMode=!1}$.getJSON("settings.json",function(a){function b(){$cookies.get("FlexGui40Trial")||($window.location.href=$rootScope.flexguiSettings.serverUrl+"?ret="+$window.location.href)}function c(a,b){$.post($rootScope.flexguiSettings.serverUrl+"Trial/KeepAlive",{session:a}).success(function(d){var e=JSON.parse(d);switch($rootScope.trialRemainingDays=e.RemainingDays,$rootScope.trialMaxDays=e.MaxDays,$rootScope.trialSerial=e.Serial,e.State){case 0:$timeout(function(){c(a)},1e4,!1);break;case 1:popupService.show($sce.trustAsHtml(localization.format(localization.currentLocal.licensing.licenseNotFound,[$rootScope.flexguiSettings.websiteUrl+"Account/Profile"])),popupService.types.info);break;case 2:popupService.show($sce.trustAsHtml(localization.currentLocal.licensing.licenseExpired),popupService.types.info);break;case 3:popupService.show($sce.trustAsHtml(localization.currentLocal.licensing.notGenerated),popupService.types.warning)}b&&b()}).error(function(){"true"!=$rootScope.flexguiSettings.buildInPluginLogin&&(delete $rootScope.sessionCookie,$window.location.href=$rootScope.flexguiSettings.serverUrl+"?ret="+$window.location.href)})}function d(){c($rootScope.sessionCookie,function(){$rootScope.addonServerUrl=$rootScope.flexguiSettings.serverUrl+"Trial/Get?session="+$rootScope.sessionCookie+"&filename=",$.getJSON($rootScope.flexguiSettings.serverUrl+"Trial/Addons?session="+$rootScope.sessionCookie,function(a){$rootScope.pluginCount=a.length,$rootScope.downloadedAddonCount=0,angular.forEach(a,function(a){loadAddon(a)})}).error(function(a,b,c){console.log("Error downloading addon list "+b),$rootScope.$apply(function(){$rootScope.pluginCount=0,$rootScope.downloadedAddonCount=0})})})}if($rootScope.flexguiSettings=a,$rootScope.addonServerUrl=deviceService.localAddons||$rootScope.flexguiSettings.mode?"":"http://"+deviceService.ip+":16735/","true"==$rootScope.flexguiSettings.forceAuth&&"true"!=$rootScope.flexguiSettings.buildInPluginLogin&&(b(),window.setInterval(function(){b()},5e3)),$rootScope.flexguiSettings.testVersion&&popupService.show($rootScope.flexguiSettings.testVersion),"true"!=$rootScope.flexguiSettings.forceAuth||$cookies.get("FlexGui40Trial")||"true"==$rootScope.flexguiSettings.buildInPluginLogin||($window.location.href=$rootScope.flexguiSettings.serverUrl+"?ret="+$window.location.href),$.post($rootScope.flexguiSettings.serverUrl+"Trial/Promotion").success(function(a){var b=JSON.parse(a);b.hasPromotion&&popupService.show(b.html)}),settingsWindowService.trial.mode)if(console.log("Load trial plugins"),"true"==$rootScope.flexguiSettings.buildInPluginLogin){console.log("Get session ID");var e=settingsWindowService.trial.username,f=settingsWindowService.trial.password;e&&f&&$.post($rootScope.flexguiSettings.serverUrl+"Trial/GetSession",{Username:e,Password:f}).success(function(a){!a||a&&""==a?popupService.show($sce.trustAsHtml(localization.format(localization.currentLocal.licensing.userError,[$rootScope.flexguiSettings.websiteUrl+"Account/Register",$rootScope.flexguiSettings.websiteUrl+"Account/Profile"])),popupService.types.info):($rootScope.sessionCookie=a,console.log($rootScope.sessionCookie),d())})}else $rootScope.sessionCookie=$cookies.get("FlexGui40Trial"),$rootScope.sessionCookie||($window.location.href=$rootScope.flexguiSettings.serverUrl+"?ret="+$window.location.href),d();else console.log("Load local plugins"),$rootScope.sessionCookie=!0,$.getJSON($rootScope.addonServerUrl+"addons/list.json",function(a){$rootScope.pluginCount=a.length,$rootScope.downloadedAddonCount=0,angular.forEach(a,function(a){loadAddon(a)})}).error(function(a,b,c){popupService.show("Error downloading addon list, please check your ROS Server settings!"),console.log("Error downloading addon list "+b),$rootScope.pluginCount=0,$rootScope.downloadedAddonCount=0})}),$rootScope.startPage=$location.path().substring(1),$rootScope.$on("$routeChangeStart",function(a,b,c){"undefined"!=typeof c&&$templateCache.remove(c.templateUrl)}),$(window).resize(function(){$rootScope.$apply()})}function fidgetCtrl($http,$sce,$scope,$window,$location,$routeParams,$attrs,editorService,popupService,deviceService,scriptManagerService,projectService,variableService,settingsWindowService,$timeout,$rootScope){function isNumeric(a){return!isNaN(parseFloat(a))&&isFinite(a)}$scope.onClick=function(fidget,script,event){0==editorService.selectedFidgets.length&&eval(scriptManagerService.compile(script))},$scope.Math=window.Math;var indicatorLampSize=function(a){return a.properties.width>a.properties.height?a.properties.height:a.properties.width};$scope.trustAsResourceUrl=$sce.trustAsResourceUrl,$scope.onFidgetPress=function(a){if(a.properties.screenLink){var b=projectService.findScreenById(a.properties.screenLink);b&&$location.path(b.properties.name)}},$scope.setValue=function(a,b){a.properties.value=b},$scope.textWidth=function(a,b){var c=b||"14px",d=$("<div>"+a+"</div>").css({position:"absolute","float":"left","white-space":"nowrap",visibility:"hidden","font-size":c}).appendTo($("body")),e=d.width();return d.remove(),e},$scope.textHeight=function(a,b){var c=b||"14px",d=$("<div>"+a+"</div>").css({position:"absolute","float":"left","white-space":"nowrap",visibility:"hidden","font-size":c}).appendTo($("body")),e=d.height();return d.remove(),e},$scope.getArray=function(a){a=isNumeric(a)?a:0;var b=settingsWindowService.gridsize||1,c=a/b==Math.floor(a/b)?1:0,d=Math.floor(a/b)-c;return new Array(d>=0?d:0)},$scope.currentFidget=null,$scope.initIndicatorLamp=function(a){$scope.currentFidget=a,$scope.size=indicatorLampSize(a),$scope.$watchGroup([function(){return $scope.currentFidget.properties.width},function(){return $scope.currentFidget.properties.height}],function(){$scope.size=indicatorLampSize($scope.currentFidget)})};var imageResizeTimer=null;$scope.initImage=function(a){$scope.currentFidget=a,$scope.$watchGroup([function(){return $scope.currentFidget.properties.width},function(){return $scope.currentFidget.properties.height},function(){return $scope.currentFidget.properties.value}],function(){function a(){function a(a,b,c){var d=0,e=a.width,f=a.height,g=!1,h=document.createElement("canvas"),i=h.getContext("2d");if(e>b?(d=b/e,h.width=b,h.height=f*d,f*=d,e*=d,g=!0):f>c&&(d=c/f,h.height=c,h.width=e*d,e*=d,f*=d,g=!0),g){i.drawImage(a,0,0,e,f);try{$scope.imageUrl=h.toDataURL()}catch(j){$scope.imageUrl=$scope.currentFidget.properties.value}}else $scope.imageUrl=$scope.currentFidget.properties.value;$scope.$apply()}var b=new Image;b.onload=function(){a(b,$scope.currentFidget.properties.width,$scope.currentFidget.properties.height)},b.src=$scope.currentFidget.properties.value}$scope.imageUrl?(imageResizeTimer&&($timeout.cancel(imageResizeTimer),imageResizeTimer=null),imageResizeTimer=$timeout(function(){a()},200)):a()})}}function fidgetGroupCtrl(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(a){if(a.properties.layout){var b=a.properties.layout,c=(100/a.fidgets.length).toFixed(0),d=0,e=a.properties.margin,f=a.fidgets.length;angular.forEach(a.fidgets,function(a){a.properties.width="vertical"==b?"100%":c.toString()+"% - "+e*(f-1)/f,a.properties.height="vertical"==b?c.toString()+"% - "+e*(f-1)/f:"100%",a.properties.top="horizontal"==b?"0":d*(a.properties.height+e),a.properties.left="horizontal"==b?d*(a.properties.width+e):"0",d++})}}var r,s=[];c.initGroup=function(a){angular.forEach(s,function(a){a()}),s=[],r=a.id,s.push(c.$watchCollection(function(){return a.fidgets},function(){q(a)})),s.push(c.$watchGroup([function(){return a.properties.layout},function(){return a.properties.width},function(){return a.properties.height},function(){return a.fidgets.length},function(){return a.properties.borderWidth},function(){return a.properties.margin}],function(){q(a)}))},c.$watch(function(){return l.loaded},function(){c.initGroup(l.getFidgetById(r))})}function flexGuiCtrl($scope,$window,$location,$routeParams,$sce,$timeout,$rootScope,$interval,$injector,$cookies,editorService,historyService,deviceService,imageService,fidgetService,projectService,enumService,projectWindowService,variableService,clipboardService,settingsWindowService,colorPickerService,helpService,popupService,scriptManagerService,projectStorageService,diagnosticsService,backupService){Array.prototype.move=function(a,b){if(b>=this.length)for(var c=b-this.length;c--+1;)this.push(void 0);return this.splice(b,0,this.splice(a,1)[0]),this},$rootScope.blockMessage=localization.currentLocal.starting.downloadAddons+"0/"+$rootScope.pluginCount;var trusted={};$rootScope.toTrustedUrl=function(a){return trusted[a]||(trusted[a]=$sce.trustAsResourceUrl(a))},$rootScope.screenRoot=$rootScope.screenRoot||"views/screen.html",$scope.windowWidth=0,$scope.beltWidth=120,$scope.parseNumber=Number;var changing=!1;if($scope.pinchZoom=function(a){if($rootScope.isMobile&&!changing&&settingsWindowService.pinchEnabled){var b=0;switch(a.additionalEvent){case"pinchin":b=-.02;break;case"pinchout":b=.02}changing=!0,$timeout(function(){settingsWindowService.setViewScale(settingsWindowService.viewScale+b),changing=!1},100)}},document.addEventListener("deviceready",function(){$rootScope.isMobile=!0,console.log("Online: "+window.navigator.onLine)},!1),settingsWindowService.isStatVisible){showAngularStats({position:"topright",digestTimeThreshold:30,logDigest:!1,logWatches:!1,htmlId:"angularPerformanceStats"}),$("#angularPerformanceStats").css({right:20,top:20});var stats=new MemoryStats;stats.domElement.style.position="fixed",stats.domElement.style.right="20px",stats.domElement.style.top="170px",document.body.appendChild(stats.domElement),requestAnimationFrame(function a(){stats.update(),requestAnimationFrame(a)})}settingsWindowService.offlineMode&&(projectStorageService.setMode("localStorage"),deviceService.init=function(){console.log("Download local project"),deviceService.connected=!0}),projectStorageService.init(),$rootScope.project=projectService,$rootScope.device=deviceService,$scope.nodes=deviceService.nodes,$scope.colorPickerHandler=colorPickerService,$scope.accessLevelsEnum=enumService.accessLevelsEnum,$scope.screenTypesEnum=enumService.screenTypesEnum,$rootScope.fidgets=fidgetService,$rootScope.settings=settingsWindowService,$scope.localization=localization,$rootScope.projects=projectWindowService,projectWindowService.scope=$scope,$rootScope.editHandler=editorService,$scope.is_chrome=/chrome/i.test(navigator.userAgent),$scope.helpMessages=helpService,$scope.popup=popupService,$rootScope.images=imageService,$rootScope.settings.loadLocalStorage(),$scope.blockUI=function(a){$rootScope.blockMessage=a,$scope.$apply()},$scope.variables=variableService,$scope.unBlockUI=function(){$rootScope.blockMessage=null,$scope.$apply()},$scope.dragCorner=enumService.dragCorner,$scope.isModalVisible=function(){var a=editorService.propertiesWindowVisible||$rootScope.settings.visible||$scope.projects.visible||$rootScope.images.visible||$scope.colorPickerModalVisible||null!=$scope.helpMessages.open||$scope.popup.visible||null!=$rootScope.blockMessage;return a},$scope.historyHandler=historyService,$scope.clipboardHandler=clipboardService,$rootScope.drive=projectStorageService,$rootScope.extraButtonsForSettingsWindow=[],$rootScope.editScreen=function(a){a.editDisabled||(historyService.saveState(),projectService.setCurrentScreen(a),editorService.editedFidget=a,editorService.propertiesWindowVisible=!0)},"undefined"!=typeof $.timeago&&(jQuery.timeago.settings.strings=localization.currentLocal.timeago.settings.strings),$window.scriptManager=scriptManagerService,$scope.activeRemoteView,$scope.setActiveRemoteView=function(a){activeRemoteView=a},$rootScope.addModal=function(name,src,ngIf){$rootScope.modals[name]={src:src,visible:!1},$rootScope.$watch(function(){return eval(ngIf)},function(a,b){$rootScope.modals[name].visible=a},!0)};var addonWatcher=$rootScope.$watch(function(){return $rootScope.downloadedAddonCount},function(a){var b=$rootScope.pluginCount||0,c=a||0;$rootScope.blockMessage=localization.currentLocal.starting.downloadAddons+c+"/"+b,0==isNaN(a)&&a==$rootScope.pluginCount&&(console.log("All addon loaded("+a+"), initalizing project"),deviceService.init($location),imageService.init($scope),editorService.init($scope.beltWidth),addonWatcher())});$rootScope.modals={},$rootScope.addModal("addScreen","views/addScreen.html","projectService.addScreenVisible"),$rootScope.addModal("propertiesWindow","views/propertiesWindow.html","editorService.propertiesWindowVisible"),$rootScope.addModal("settingsWindow","views/settingsWindow.html","settingsWindowService.visible"),$rootScope.addModal("imageExplorerWindow","views/imageExplorerWindow.html","imageService.visible"),$rootScope.addModal("colorPickerWindow","views/colorPickerWindow.html","colorPickerService.colorPickerModalVisible"),$rootScope.addModal("topicDetailsWindow","views/topicDetailsWindow.html","$rootScope.settings.topicDetails.visible"),$rootScope.addModal("editTestItemWindow","views/settings/diagnostics/testItemEditor.html","diagnosticsService.isTestItemEditorOpen"),$rootScope.addModal("diagnosticsResultWindow","views/settings/diagnostics/result.html","diagnosticsService.isResultOpen"),$scope.$on("$locationChangeSuccess",function(a,b){var c=$location.path().substring(1);projectService.setCurrentScreenByName(c)}),$scope.slugify=function(a){return a.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},$scope.onScreenClick=function(a,b){$location.path(a.properties.name)},$scope.toTrustedHTML=function(a){return $sce.trustAsHtml(a)},$scope.goFullScreen=function(){window.document.documentElement.webkitRequestFullScreen()},$scope.logoStyles={bottomRight:{position:"relative",right:10,bottom:10},bottomLeft:{position:"relative",left:10+$scope.beltWidth,bottom:10},topRight:{position:"relative",right:10,top:10},topLeft:{position:"relative",left:10+$scope.beltWidth,top:10}},$scope.copyHtmlById=function(a){return $("#"+a).text()}}function propertiesWindowCtrl($scope,$rootScope,$window,$location,$routeParams,projectService,deviceService,editorService,colorPickerService,scriptManagerService,variableService,enumService,backgroundService,projectStorageService,fidgetService){var invalidScripts={};$scope.hasInvalidScript=function(){return Object.keys(invalidScripts).length>0},$rootScope.onClickEditor||($rootScope.onClickEditor="views/properties/onClick.html"),$scope.duplicateScreen=function(){for(var a=angular.copy(projectService.currentScreen),b=!0,c="";b;)b=!1,angular.forEach(projectService.screens,function(a){a.properties.name==projectService.currentScreen.properties.name+" - Copy"+(""==c?c:" "+c)&&(b=!0,""==c?c=2:c++)});a.properties.name+=" - Copy"+(""==c?c:" "+c),a.id=projectService.getId(),projectService.screens.push(a),projectService.setupContainer(a,1,function(a){a.id="fidget_"+variableService.guid()}),$rootScope.editScreen(a)},$scope.validate=function(error,fidget,property){function error(a){error.scriptError=!0,invalidScripts[a]=""}var validateProperties=["_width","_height","_value","_min","_max","_angleArc","_angleOffset","_precision","_step","_lock","_blinking","_blinkFrequency","_borderWidth","_top","_left"];if(fidget==projectService.currentScreen){var existing=!1;angular.forEach(projectService.screens,function(a){a!=projectService.currentScreen&&a.properties.name==projectService.currentScreen.properties.name&&(existing=!0)}),existing?invalidScripts.projectName="":delete invalidScripts.projectName}if(validateProperties.indexOf(property)>=0)try{var value=fidget.properties[property];if(void 0===value||null===value||""===value)return void error(property);var sizeAndPos=["_height","_width","_top","_left"];if(sizeAndPos.indexOf(property)>-1&&value.toString().indexOf("%")>-1){var x=fidgetService.calculateSizeAndPosProperty(fidget,property,value,sizeAndPos);delete invalidScripts[property]}else eval(scriptManagerService.compile(value)),delete invalidScripts[property]}catch(e){return void error(property)}error.scriptError=!1},$scope.openColorPicker=function(a,b){colorPickerService.onColorSelected=function(){editorService.editedFidget.properties[a]=colorPickerService.selectedColor,colorPickerService.showColorPicker(!1)},colorPickerService.selectedColor=b,colorPickerService.showColorPicker(!0)},$scope.openBackgroundColorPicker=function(a){colorPickerService.onColorSelected=function(){editorService.editedFidget.backgroundColor=colorPickerService.selectedColor,colorPickerService.showColorPicker(!1)},colorPickerService.selectedColor=a,colorPickerService.showColorPicker(!0)},$scope.generateBackground=function(){colorPickerService.generateBase64Color(editorService.editedFidget.backgroundColor)},editorService.editedFidget==projectService.currentScreen&&($scope.$watch(function(){return editorService.editedFidget.backgroundType},function(a,b){a&&backgroundService.backgroundTypes[editorService.editedFidget.backgroundType.name]||(editorService.editedFidget.backgroundType=backgroundService.backgroundTypes.Color,editorService.editedFidget.backgroundColor=null)}),$scope.$watch(function(){return editorService.editedFidget.backgroundColor},function(){editorService.editedFidget.backgroundType&&editorService.editedFidget.backgroundType.key==backgroundService.backgroundTypes.Color.key&&(editorService.editedFidget.backgroundColor?editorService.editedFidget.backgroundImage=colorPickerService.generateBase64Color(editorService.editedFidget.backgroundColor):editorService.editedFidget.backgroundImage=null)})),$scope.colorPickerInitForFactory=function(){if(editorService.editedFidget.id==projectService.currentScreen.id){var a=new Image;a.onload=function(){function b(a,b,c){return"#"+("0"+parseInt(g,10).toString(16)).slice(-2)+("0"+parseInt(h,10).toString(16)).slice(-2)+("0"+parseInt(i,10).toString(16)).slice(-2)}var c=document.createElement("canvas");c.width=1,c.height=1;var d=c.getContext("2d");d.drawImage(a,0,0);var e=d.getImageData(0,0,c.width,c.height),f=4*(0*e.width+0),g=e.data[f],h=e.data[f+1],i=e.data[f+2];e.data[f+3];editorService.editedFidget.backgroundColor=b(g,h,i).toUpperCase()},a.src=editorService.editedFidget.backgroundImage}},$scope.getFidgetProperties=function(){var a=Array();if(projectService.currentScreen==editorService.editedFidget)for(var b in editorService.editedFidget.properties)a.push(b);else for(var b in editorService.editedFidget.template.properties)a.push(b);var a=a.sort();return a.indexOf("_height")>-1&&a.indexOf("_width")>-1&&a.move(a.indexOf("_height"),a.indexOf("_width")),a.indexOf("_top")>-1&&a.indexOf("_left")>-1&&a.move(a.indexOf("_top"),a.indexOf("_left")),a.indexOf("onClick")>-1&&a.move(a.indexOf("onClick"),a.length-1),a},$scope.enableField=function(a){editorService.editedFidget.template.properties[a]==editorService.mepuv&&(editorService.editedFidget.template.properties[a]="")},$scope.removeScreen=function(){projectService.screens.splice(projectService.screens.indexOf(projectService.currentScreen),1),projectService.screens.length>0&&projectService.setCurrentScreenIndex(0),editorService.setPropertiesWindowVisible(!1),projectStorageService.save(!0)},$scope.moveScreen=function(a){var b=projectService.currentScreen,c=projectService.screens.indexOf(b);projectService.screens.splice(c,1),projectService.screens.splice(c+a,0,b),projectService.setCurrentScreenIndex(projectService.currentScreenIndex+a),projectStorageService.save(!0)},$scope.moveTo={backOne:function(){return-1},forwardOne:function(){return 1},toBack:function(){return-editorService.editedFidget.parent.fidgets.indexOf(editorService.editedFidget)},toFront:function(){return editorService.editedFidget.parent.fidgets.length-editorService.editedFidget.parent.fidgets.indexOf(editorService.editedFidget)}},$scope.moveFidget=function(a){var b=editorService.editedFidget,c=b.parent.fidgets.indexOf(b);b.parent.fidgets.splice(c,1),b.parent.fidgets.splice(c+a,0,b),projectStorageService.save(!0)},$scope.isPropertyRequired=function(a){return"name"==a||"width"==a||"height"==a},$scope.clearBackground=function(){projectService.currentScreen.backgroundImage=null}}function backgroundService(a,b){var c={backgroundTypes:{Color:{name:localization.currentLocal.fidgets.properties.color,key:"Color",editor:"views/properties/colorBackground.html"}},changeBacktroundType:function(a){editorService.editedFidget.backgroundImage=b.generateBase64Color(a.backgroundColor)}};return a.background=c,c}function backupService(a,b,c,d){var e,f={enabled:["true",!0,null,void 0].indexOf(localStorage.getItem("backupEnabled"))>-1?!0:!1,list:localStorage.getItem("backups")?JSON.parse(localStorage.getItem("backups")):[],backup:function(){if(f.enabled){var a=b.toJSON(),d=!0;if(a&&0==f.list.length||f.list[f.list.length-1].project!=a){var g=a.length,h=new Date;f.list.push({project:a,date:h,size:g}),f.list.length>5&&f.list.splice(0,1);try{localStorage.setItem("backups",JSON.stringify(f.list))}catch(i){d=!1,f.saveFailedDialog().modal("show")}}d&&(e=c(f.backup,6e4,!0))}},restore:function(a){b.load(b.parseJSON(a.project))},timeago:function(a){var b=new Date(a);return $.timeago(b)},saveFailedDialog:function(){var a={success:{label:localization.currentLocal.settings.tabs.backup.keepLast,className:"btn-success",callback:function(){f.list=[],f.backup(),bootbox.hideAll()}},danger:{label:localization.currentLocal.settings.tabs.backup.disableBackup,className:"btn-primary",callback:function(){f.enabled=!1,bootbox.hideAll()}}};return bootbox.dialog({message:localization.currentLocal.settings.tabs.backup.failed,backdrop:"static",closeButton:!1,show:!1,keyboard:!1,title:localization.currentLocal.settings.tabs.backup.title,buttons:a})}},g=a.$watch(function(){return b.loaded},function(a){a&&f.enabled&&(f.backup(),g())});return a.$watch(function(){return f.enabled},function(){f.enabled?f.backup():e&&c.cancel(e),localStorage.setItem("backupEnabled",f.enabled)}),a.settingsTabs.backup={children:[],position:5,source:"views/settings/backup.html",title:localization.currentLocal.settings.tabs.backup.title},a.backup=f,f}function clipboardService(a,b,c,d){var e={clipboard:[],alma:!1,copy:function(a){e.clipboard=[],e.alma=!e.alma,angular.copy(a,e.clipboard)},cut:function(b){e.copy(b),angular.forEach(b,function(b){a.deleteFidget(b.parent,b)}),d.save(!0)},pasted:[],paste:function(a){e.pasted=[];for(var b=0;b<e.clipboard.length;b++){var c=e.clipboard[b];e.pasted.push(e.pasteChild(c,a,c.properties._top,c.properties._left))}d.save(!0)},pasteChild:function(a,b,d,f){var g=c.getFidget(a.root,a.source,f,d,a.properties,a.icon,a.name,a.template,b);return angular.forEach(a.fidgets,function(a){e.pasteChild(a,g,a.properties._top,a.properties._left)}),g}};return e}function colorPickerService(){var a={selectedColor:null,colorPickerModalVisible:!1,showColorPicker:function(b){a.colorPickerModalVisible=b},setSelectedColor:function(b){0==b.indexOf("#")&&(a.selectedColor=b,a.onColorSelected&&a.onColorSelected())},convertHex:function(a,c){return a?(a=a.replace("#",""),r=parseInt(a.substring(0,2),16),g=parseInt(a.substring(2,4),16),b=parseInt(a.substring(4,6),16),{r:r,g:g,b:b,a:c/100}):{r:0,g:0,b:0,a:1}},getRGBAString:function(a){return"rgba("+a.r+", "+a.g+", "+a.b+","+a.a+")"},generateBase64Color:function(b){function c(a){return e.fillStyle="rgba("+[a.r,a.g,a.b,a.a].join()+")",e.fillRect(0,0,1,1),d.toDataURL("image/png","")}var d=document.createElement("canvas"),e=d.getContext("2d");d.width=1,d.height=1;var f=a.convertHex(b,100);return c(f)},colors:["#FFFFFF","#A0A0A0","#494949","#000000","#D8D8FF","#5A5AFF","#00009C","#000054","#A2FFA2","#24FF24","#00A500","#005D00","#FFFFA2","#FFFF24","#9C9C00","#5D5D00","#FFA2A2","#FF2424","#A50000","#5D0000"],namedColors:{add:function(a,b){this.list[a]=b},get:function(a){return this.list[a]?this.list[a]:"#FFFFFF"},list:{text:"#b8c1cf",dialog:"#4b515f",main:"#ff5f00",belt:"#515763",background:"#36373C"}}};return a}function deviceService(a,b,c,d,e,f,g,h,i){var j={connected:!1,nodes:{},rosUpdated:null,reconnect:["true",!0].indexOf(localStorage.getItem("reconnect"))>-1||!1,ip:localStorage.getItem("diIp")||"localhost",port:localStorage.getItem("diPort")||9090,secure:["true",!0,null].indexOf(localStorage.getItem("diSecure"))>-1||"https:"==window.location.protocol,localAddons:["true",!0,null].indexOf(localStorage.getItem("localAddons"))>-1,topics:[],services:[],rosUpdateStarted:!1,nextRosUpdate:null,updateRos:function(){if(d.ros){j.nextRosUpdate&&(i.cancel(j.nextRosUpdate),delete j.nextRosUpdate);var b=0,c=-1;d.ros.getTopics(function(a){j.findRemovedInterfaces(a,j.topics),c=a.length,angular.forEach(a,function(a){d.ros.getTopicType(a,function(c){d.ros.getMessageDetails(c,function(d){var e=new j.Topic(a,c,d);j.addNewInterface(e);var f=j.nodes[e.nodeName][e.shortPath];f.isOffline&&j.callService("/rosapi/publishers",{topic:f.path},function(a){a.publishers.length>0&&(f.isOffline=!1,f.subscribe())}),b++})})})}),d.ros.getServices(function(a){j.findRemovedInterfaces(a,j.services),angular.forEach(a,function(a){j.addNewInterface(new j.Service(a))})});var e=a.$watch(function(){return b},function(){b==c&&(j.rosUpdated=new Date,e())});j.nextRosUpdate=i(j.updateRos,1e4)}},initTopicFromProject:function(a){var b=c.interfaceMetaData.find(a.path);b&&b.lastValue&&(a.value=angular.copy(b.lastValue),j.overwriteProperties(a.value,a))},setTopicFromMeta:function(a,b){a.initedFromProject||(a.subscribe!=b.subscribed&&b.subscribed&&(a.subscribed=b.subscribed),a.friendlyName!=b.friendlyName&&(a.friendlyName=b.friendlyName,d.friendlyCache[a.friendlyName]=a),a.deepFriendlyNames!=b.deepFriendlyNames&&(a.deepFriendlyNames=b.deepFriendlyNames,angular.forEach(Object.keys(a.deepFriendlyNames),function(b){var c=a.deepFriendlyNames[b];d.friendlyCache[c]={__isDeep:!0,value:"$rootScope.device.nodes['"+a.nodeName+"']"+b}})),a.initedFromProject=!0)},addNewInterface:function(a){void 0==j.nodes[a.nodeName]&&(j.nodes[a.nodeName]={__isNode:!0,__name:a.nodeName}),j.nodes[a.nodeName][a.shortPath]||(j.nodes[a.nodeName][a.shortPath]=a,a.isTopic?(j.topics.push(a),j.initTopicFromProject(a)):j.services.push(a),j.changeOnUi=!0,a.subscribed&&a.subscribe(),a.friendlyName&&(d.friendlyCache[a.friendlyName]=a),g.scriptDict={})},findRemovedInterfaces:function(a,b){return},Interface:function(a,b){b.isInterface=!0,b.path=a,b.shortPath=a.substring(a.substring(1).indexOf("/")+2),b.nodeName=a.substring(1,a.substring(1).indexOf("/")+1),b._friendlyName=c.interfaceMetaData.getFriendlyName(a),Object.defineProperty(b,"friendlyName",{get:function(){return b._friendlyName},set:function(a){b._oldFriendlyName||(b._oldFriendlyName=b._friendlyName),b._friendlyName=a}})},cleanNodes:function(){function a(a){a.friendlyName=null,a.subsribed=!1,a.deepFriendlyNames={}}c.interfaceMetaData.list=[],angular.forEach(j.topics,a),angular.forEach(j.services,a),j.updateRos(),j.updateFriendlyCache()},updateFriendlyCache:function(){if(j.hasDupes()){var a=function(a){a._oldFriendlyName&&(a._friendlyName=a._oldFriendlyName,delete a._oldFriendlyName)};angular.forEach(j.topics,a),angular.forEach(j.services,a)}else{var b=function(a){d.friendlyCache[a._oldFriendlyName]&&(g.scriptDict={},delete d.friendlyCache[a._oldFriendlyName],delete a._oldFriendlyName),a.friendlyName&&(d.friendlyCache[a.friendlyName]=a),c.interfaceMetaData.setFriendlyName(a.path,a.isTopic?a.type:null,a.friendlyName),g.scriptDict={}};angular.forEach(j.topics,b),angular.forEach(j.services,b),c.needSave={history:!0,ts:Date.now()}}},hasDupes:function(){var a=!1;return angular.forEach(j.topics,function(b){var c=!1;angular.forEach(b.deepFriendlyNames,function(a){c=c||j.isDupe(a)}),a=a||c||j.isDupe(b.friendlyName)}),angular.forEach(j.services,function(b){a=a||j.isDupe(b.friendlyName)}),a},countFriendly:function(a){result=0;var b=function(b){b.deepFriendlyNames&&angular.forEach(b.deepFriendlyNames,function(b){b==a&&result++}),b.friendlyName==a&&result++};return angular.forEach(j.topics,b),angular.forEach(j.services,b),result},isDupe:function(a,b){return a&&(b?1==j.countFriendly(b):j.countFriendly(a)>1)},callService:function(a,b,c){var e=new ROSLIB.Service({ros:d.ros,name:a}),f=new ROSLIB.ServiceRequest(b);e.callService(f,function(a){c&&c(a),j.changeOnUi=!0})},getInterface:function(a){var b=null;return angular.forEach(j.topics,function(c){c.path==a&&(b=c)}),angular.forEach(j.services,function(c){c.path==a&&(b=c)}),b},Service:function(a){j.Interface(a,this),this.isService=!0,this.call=function(b,c){j.callService(a,b,c)}},overwriteProperties:function(a,b){a&&"object"==typeof a&&angular.forEach(Object.keys(a),function(c){a["_"+c]=angular.copy(a[c]),j.overwriteProperties(a["_"+c],b),delete a[c],Object.defineProperty(a,c,{get:function(){return a["_"+c]},set:function(d){function f(){function e(a){a&&"object"==typeof a&&angular.forEach(Object.keys(a),function(b){e(a[b]),a[b.substring(1)]=angular.copy(a[b]),delete a[b]})}a["_"+c]=d;var f=angular.copy(b.value);e(f);var g=b.type.split("/");j.topicSetters[g[0]]?j.topicSetters[g[0]](b,f):b.listener.publish(f),j.overwriteProperties(d,b)}var g=!0;return b.isOffline?(e.show(localization.currentLocal.settings.tabs.nodes.topicOfflineError,e.types.error),void(g=!1)):void(b.upToDate?f():bootbox.confirm(localization.currentLocal.settings.tabs.nodes.topicOutOfDateWarning,function(a){a&&f()}))}})})},subscribeCallbacks:[],changedTopics:[],Topic:function(a,b,e,f){j.Interface(a,this),this.isTopic=!0,this.type=b,this.details=e,this.value=null,this.deepFriendlyNames=c.interfaceMetaData.getDeepFriendlyNames(a);var k=this;this.upToDate=!1,this.isOffline=1==f?!0:!1,this.publisherCheckInterval=null,this.onChangeFunctions={},this.setValue=function(a){if(null==c.interfaceMetaData.getLastValue(this.path)&&(c.interfaceMetaData.setLastValue(this.path,this.type,angular.copy(a)),c.needSave={history:!1,ts:Date.now()}),this.upToDate=!0,JSON.stringify(this.value)!=JSON.stringify(a)){var b=angular.copy(this.value);j.overwriteProperties(a,this),this.value=a,j.changedTopics.push({topic:k,oldValue:b}),j.changeOnUi=!0,g.scriptDict={}}angular.forEach(Object.keys(this.onChangeFunctions),function(b){k.onChangeFunctions[b](a)})},angular.forEach(Object.keys(this.deepFriendlyNames),function(a){var b=k.deepFriendlyNames[a];d.friendlyCache[b]={__isDeep:!0,value:"$rootScope.device.nodes['"+k.nodeName+"']"+a}}),this.subscribe=function(a){this.isOffline||j.nodes[this.nodeName].isDirectConnection||(this.listener&&(this.listener.unsubscribe(),
delete this.listener),k.publisherCheckInterval&&(h.cancel(k.publisherCheckInterval),delete k.publisherCheckInterval),k.publisherCheckInterval=h(function(){j.callService("/rosapi/publishers",{topic:k.path},function(a){k.isOffline=0==a.publishers.length,0==a.publishers.length&&this._subscribed&&(k.listener.unsubscribe(),delete k.listener,i(k.subscribe,1e3))})},3e4),this.listener=new ROSLIB.Topic({ros:d.ros,name:this.path,messageType:this.type,throttle_rate:100}),this.listener.subscribe(function(a){k.setValue(a)}),a&&a(),j.subscribeCallbacks&&j.subscribeCallbacks.length>0&&angular.forEach(j.subscribeCallbacks,function(a){a(k)}))},this._subscribed=c.interfaceMetaData.getSubscribed(a),Object.defineProperty(this,"subscribed",{get:function(){return this._subscribed},set:function(d){this._subscribed=d,c.interfaceMetaData.setSubscribed(a,b,d)&&(c.needSave={history:!1,ts:Date.now()}),this._subscribed?this.subscribe():(this.listener&&this.listener.unsubscribe(),this.publisherCheckInterval&&(h.cancel(this.publisherCheckInterval),delete this.publisherCheckInterval))}})},topicSetters:{},changeOnUi:!1,lockUiChange:!1,refreshUi:function(){j.changeOnUi&&!j.lockUiChange&&(j.changeOnUi=!1),i(j.refreshUi,200)},cancelConnect:function(){delete a.blockMessage,delete a.blockHtml},_updateEnabled:!1,_uploadEnabled:!1,cantConnectToRosVisible:!1,retryHandler:null,retryCount:0,cancelRetry:function(a){j.retryHandler&&(window.clearInterval(j.retryHandler),delete j.retryHandler),a&&j.onCantConnectToRos()},init:function(){try{j.retryHandler?(a.blockMessage="Reconnecting to ROS",a.blockHtml="views/rosReconnect.html"):(a.blockMessage=localization.currentLocal.starting.connectToRos,a.blockHtml="views/rosLoading.html"),d.ros=new ROSLIB.Ros({url:j.server}),d.ros.on("connection",function(){j.retryHandler&&location.reload(),delete a.blockHtml,localStorage.setItem("diSecure",j.secure),j.connected=!0,j.changeOnUi=!0,a.blockMessage=localization.currentLocal.project.loading,j.refreshUi(),j.updateRos()}),d.ros.on("error",function(a){j.retryHandler||(j.secure==["true",!0,null].indexOf(localStorage.getItem("diSecure"))>-1&&"https:"!=window.location.protocol?(j.secure=!j.secure,j.init(location)):(j.connected=!1,j.changeOnUi=!0,j.onCantConnectToRos()))}),d.ros.on("close",function(){j.connected&&(j.connected=!1,j.reconnect?(j.retryCount=0,j.retryHandler=window.setInterval(function(){return j.retryCount++,30==j.retryCount?(j.cancelRetry(),void j.onCantConnectToRos()):void j.init()},1e3)):j.onCantConnectToRos()),j.changeOnUi=!0}),this.initDone=Date.now()}catch(b){j.connected&&(j.connected=!1,j.onCantConnectToRos())}},offlineModeDialog:function(){return bootbox.dialog({message:localization.currentLocal.ros.demoBody,backdrop:"static",closeButton:!1,keyboard:!1,show:!1,title:localization.currentLocal.ros.connectionError,buttons:{back:{label:localization.currentLocal.ros.back,className:"btn-danger",callback:function(){bootbox.hideAll(),j.connectionLostDialog().modal("show")}},success:{label:localization.currentLocal.ros.keepProject,className:"btn-success",callback:function(){localStorage.setItem("offlineMode",!0),localStorage.setItem("localProject",c.toJSON(null,!1)),location.reload()}},danger:{label:localization.currentLocal.ros.discardProject,className:"btn-primary",callback:function(){localStorage.setItem("offlineMode",!0),location.reload()}}}})},connectionLostDialog:function(){var b={success:{label:localization.currentLocal.ros.reconnect,className:"btn-success",callback:function(){location.reload()}},danger:{label:localization.currentLocal.ros.offlineMode,className:"btn-primary",callback:function(){bootbox.hideAll(),j.offlineModeDialog().modal("show")}}};return a.editHandler.isEditAvailable()&&(b.info={label:localization.currentLocal.editMode.settings,className:"btn-info",callback:function(){bootbox.hideAll(),a.$apply(function(){delete a.blockHtml,delete a.blockMessage,a.settings.setVisible(!0)})}}),bootbox.dialog({message:localization.currentLocal.ros.connectionErrorBody,backdrop:"static",closeButton:!1,show:!1,keyboard:!1,title:localization.currentLocal.ros.connectionError,buttons:b,onEscape:function(){j.cantConnectToRosVisible=!1}})},onCantConnectToRos:function(){a.blockMessage==localization.currentLocal.project.loading&&(a.blockMessage=null),j.connected||j.cantConnectToRosVisible||(j.cantConnectToRosVisible=!0,j.connectionLostDialog().modal("show"))}};return a.$watchCollection(function(){return c.interfaceMetaData.list},function(a,b){j.lockUiChange=!1,c.prevProject&&angular.forEach(c.prevProject.interfaceMetaData.list,function(a){var b=c.interfaceMetaData.find(a.path),d=j.getInterface(a.path);if(!b&&d&&d.isOffline){var e=j.topics.indexOf(d);j.nodes[d.nodeName];e>-1&&j.topics.splice(e,1)}if(d){var f=!0;angular.forEach(j.topics,function(a){d.nodeName==a.nodeName&&(f=!1)}),angular.forEach(j.services,function(a){d.nodeName==a.nodeName&&(f=!1)}),f&&delete j.nodes[d.nodeName]}}),angular.forEach(c.interfaceMetaData.list,function(a){var b=j.getInterface(a.path);if(!b&&a.isTopic){var c=new j.Topic(a.path,a.type,null,!0);j.addNewInterface(c)}else b&&j.setTopicFromMeta(b,a)}),j.changeOnUi=!0}),Object.defineProperty(j,"server",{get:function(){return(j.secure||"https:"==window.location.protocol?"wss://":"ws://")+j.ip+":"+j.port+"/"}}),h(function(){g.scriptDict={}},5e3),j.changedTopicWatchers=[],h(function(){var a=j.changedTopics.length;angular.forEach(j.changedTopicWatchers,function(b){var c=b.get();a>c&&(a=c)}),a>0&&j.changedTopics.splice(0,a),angular.forEach(j.changedTopicWatchers,function(b){var c=b.get()-a;b.set(c)})},5e3),j}function diagnosticsService(deviceService,$rootScope,settingsWindowService,projectService,projectStorageService,variableService,helpService){var srv={tests:{stressTest:{run:function(a,b,c,d,e){for(var f=[],g=0;b>g;g++){var h=new Date;deviceService.callService(c,JSON.parse(d),function(c){if(f.push(new Date-h),$rootScope.$apply(function(){a.result=f.length+"/"+b+"..."}),f.length==b){for(var d,g,i=0,j=0;b>j;j++)(!d||d>f[j])&&(d=f[j]),(!g||g<f[j])&&(g=f[j]),i+=f[j];srv.testFinished(),$rootScope.$apply(function(){var c="max: "+g+"ms, min: "+d+"ms, avg: "+i/b+"ms";parseInt(g)>parseInt(e)&&(c='<span class="failed" style="color: red">'+c+"</span>"),a.result=c})}})}},params:{n:{value:"5"},servicePath:{value:""},params:{value:"{}"},limit:{value:"100"}}},getTopicRespTime:{run:function(a,b){var c=new Date;deviceService.callService("/rosapi/topics",{},function(d){srv.testFinished();var e=parseInt(new Date-c),f=e+"ms";e>parseInt(b)&&(f="<span style='color: red'>"+f+"</span>"),a.result=f,$rootScope.$apply()})},params:{limit:{value:"100"}}},getServiceRespTime:{run:function(a,b){var c=new Date;deviceService.callService("/rosapi/services",{},function(d){srv.testFinished();var e=parseInt(new Date-c),f=e+"ms";e>parseInt(b)&&(f="<span style='color: red'>"+f+"</span>"),a.result=f,$rootScope.$apply()})},params:{limit:{value:"100"}}},topicUpdateRate:{run:function(a,b,c,d){var e=deviceService.nodes[b];if(!e)return a.result="Node not found",void srv.testFinished();a.times={},angular.forEach(Object.keys(e),function(b){var c=deviceService.nodes[e.__name][b];c.isTopic&&(a.times[c.path]=[],c.subscribed||(c.subscribed=!0,tempSubscribes.push(c)))}),topicUpdateActions[a.id]=function(b){a.times&&a.times[b.topic.path]&&a.times[b.topic.path].push(new Date)};var f=c,g=setInterval(function(){$rootScope.$apply(function(){a.result=--f+"sec left"})},1e3);setTimeout(function(){clearInterval(g),srv.testFinished();var b=[];angular.forEach(Object.keys(a.times),function(c){var e=a.times[c];if(0==e.length)b.push(c+": 0 updates in 10 sec");else{var f=(e[e.length-1].getTime()-e[0].getTime())/e.length,g=c+"(avg): "+parseInt(f)+"ms";parseInt(f)>parseInt(d)&&(g="<span style='color: red'>"+g+"</span>"),b.push(g)}});var b=b.join("<br/>");a.result=b,delete topicUpdateActions[a.id],$rootScope.$apply()},1e3*c)},params:{nodeName:{value:""},timeout:{value:10},limit:{value:"100"}}},offlineTopics:{run:function(a,b){var c=[],d=deviceService.nodes[b];return d?(angular.forEach(Object.keys(d),function(a){var b=deviceService.nodes[d.__name][a];b.isTopic&&b.isOffline&&c.push(b.path)}),srv.testFinished(),void(a.result=0==c.length?"0 offline topics":c.join())):(a.result="Node not found",void srv.testFinished())},params:{nodeName:{value:""}}},serviceCallRespTime:{run:function(a,b,c,d){var e=new Date;deviceService.callService(b,JSON.parse(c),function(b){srv.testFinished();var c=parseInt(new Date-e),f=c+"ms, response: "+JSON.stringify(b);c>parseInt(d)&&(f="<span style='color: red'>"+f+"</span>"),a.result=f})},params:{servicePath:{value:""},params:{value:""},limit:{value:"100"}}},rosConnection:{run:function(a,b){if(settingsWindowService.offlineMode||!deviceService.connected)a.result="<span style='color: red'>ROS is not connected</span>",srv.testFinished();else{a.result="Calling a ROS Service and measuring response time ...";var c=new Date;deviceService.callService("/rosapi/services",{},function(d){srv.testFinished();var e=parseInt(new Date-c),f="ROS is connected, the service call response time is "+e+"ms";e>parseInt(b)&&(f="<span style='color: red'>"+f+"</span>"),a.result=f,$rootScope.$apply()})}},params:{limit:{value:"100"}}}},run:function(){this.finishedTests=0,this.currentIndex=0,angular.forEach(projectService.testSequence,function(a){a.result="N/A"}),projectService.testSequence.length>0&&this.startTest(projectService.testSequence[this.currentIndex])},startTest:function(test){if(test.result="Running...",test.selected)if(test.isUserDefined)eval(test.script);else{var params="test";angular.forEach(Object.keys(test.params),function(a){params+=", test.params."+a});var runScript='srv.tests["'+test.name+'"].run('+params+");";eval(runScript)}else this.testFinished()},testFinished:function(){this.finishedTests++,this.currentIndex<projectService.testSequence.length-1&&(this.currentIndex++,this.startTest(projectService.testSequence[this.currentIndex]))},selectAll:function(){angular.forEach(projectService.testSequence,function(a){a.selected=!0})},move:function(a,b){var c=projectService.testSequence.indexOf(a);projectService.testSequence.move(c,c+b)},removeTestItem:function(a){projectService.testSequence.splice(projectService.testSequence.indexOf(a),1),projectStorageService.save(!0)},setTestItemEditorVisible:function(a,b){if(this.isTestItemEditorOpen=a,b){if(this.editedTest.isUserDefined||angular.forEach(Object.keys(this.tests[this.editedTest.name].params),function(a){srv.editedTest.params[a]=srv.tests[srv.editedTest.name].params[a].value}),this.originalTest)this.originalTest.name=this.editedTest.name,this.originalTest.params=this.editedTest.params,this.originalTest.isUserDefined=this.editedTest.isUserDefined,this.originalTest.script=this.editedTest.script;else{var c=angular.copy(this.editedTest);c.id=variableService.guid(),c.selected=!0,projectService.testSequence.push(c)}this.originalTest=null,this.editedTest=null,projectStorageService.save(!0)}},setResultVisible:function(a){this.isResultOpen=a,a&&this.run()},addTestItem:function(){this.editedTest={name:"",params:{},isUserDefined:!1,script:"/* put your script here */"},this.setTestItemEditorVisible(!0)},editTestItem:function(a){angular.forEach(Object.keys(a.params),function(b){srv.tests[a.name].params[b].value=a.params[b]}),this.editedTest=angular.copy(a),this.originalTest=a,this.setTestItemEditorVisible(!0)},isTestItemInvalid:function(){if(this.editedTest.isUserDefined)return this.editedTest.name?!1:!0;if(-1===Object.keys(this.tests).indexOf(this.editedTest.name)||!this.editedTest.name)return!0;var a=!1;return angular.forEach(this.tests[this.editedTest.name].params,function(b){""==b.value.toString().trim()&&(a=!0)}),a},scriptEditor:"views/settings/diagnostics/scriptEditor.html",finishedTests:projectService.testSequence.length,currentIndex:0};Object.defineProperty(srv,"currentTest",{get:function(){return projectService.testSequence[srv.currentIndex]}}),srv.selectedTests=srv.tests;var topicUpdateActions={},tempSubscribes=[],changed=[],lastIndex=0,changedRunnig=!1;return deviceService.changedTopicWatchers.push({get:function(){return lastIndex},set:function(a){lastIndex=a}}),$rootScope.$watchCollection(function(){return deviceService.changedTopics},function(a,b){for(var c=lastIndex;c<deviceService.changedTopics.length;c++)changed.push(deviceService.changedTopics[c]),lastIndex++;if(!changedRunnig){for(var c=changed.length;c--;){changedRunnig=!0;var d=changed[c];d.topic.path;angular.forEach(Object.keys(topicUpdateActions),function(a){topicUpdateActions[a](d)}),changed.splice(c,1)}changedRunnig=!1}}),$rootScope.$watch(function(){return srv.finishedTests},function(a){a==projectService.testSequence.length&&angular.forEach(tempSubscribes,function(a){a.subscribed=!1})}),helpService.settings.diagnostics={"for":"Diagnostics",source:"views/help/diagnostics.html"},helpService.settings.diagnosticsEditor={"for":"Diagnostics editor",source:"views/help/diagnosticsEditor.html"},$rootScope.settingsTabs.diagnostics={help:helpService.settings.diagnostics,children:[],position:14,source:"views/settings/diagnostics.html",title:"Diagnostics",classes:"diagnoseSettingsTab"},$rootScope.diagnostics=srv,srv}function editorService(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a,b){function c(a,b){for(;a;)e.top=e.top+b*(a.properties.top||0),e.left=e.left+b*(a.properties.left||0),a.properties.borderWidth&&(e.top+=b*a.properties.borderWidth,e.left+=b*a.properties.borderWidth),a=a.parent}var d=a.parent;f.deleteFidget(a.parent,a),b.fidgets.push(a),a.parent=b,a.containerLevel=a.parent.containerLevel+1;var e={top:a.properties.top,left:a.properties.left};c(a.parent,-1),c(d,1),a.properties.top=e.top,a.properties.left=e.left}var q={_isEditMode:!1,selectableFidgets:null,multiEdit:!1,mepuv:m.guid(),openProperties:function(){function a(a,b){var c,d,e,f=[],g=[],h=a.length,i=1;if(!h||0>=b)return f;if(1===h){for(c=0;c<a[0].length&&f.length<b;++c)d=a[0][c],d===d&&f.push(d);return f}for(c=0;h>c;++c){if(!a[c].length)return f;g[c]=0}for(e=a[h-1][0],++g[h-1];;)for(c=0;h>c;++c){do{if(g[c]>=a[c].length)return f;d=a[c][g[c]++]}while(e>d||d!==d);if(d!==e)i=1,e=d;else if(++i>=h){if(f.push(e),f.length>=b)return f;if(g[c]>=a[c].length)return f;e=a[c][g[c]++],i=1}}}if(0!=q.selectedFidgets.length)if(1==q.selectedFidgets.length)q.editedFidget=q.selectedFidgets[0],q.multiEdit=!1,q.setPropertiesWindowVisible(!0);else{q.multiEdit=!0;var b=0,c=[],d=[];angular.forEach(q.selectedFidgets,function(a){var e=Object.keys(a.properties).sort();e.length>b&&(b=e.length),c.push(e);var f=a.properties.name?a.properties.name:a.name;-1==d.indexOf(f)&&d.push(f)});var e=a(c,b);q.editedFidget={properties:{},editedProperties:e,template:{properties:{}},id:"",name:d.join(", ")},angular.forEach(e,function(a){var b=q.selectedFidgets[0].properties[a];angular.forEach(q.selectedFidgets,function(c){c.properties[a]!=b&&(b=q.mepuv)}),q.editedFidget.properties[a]=b==q.mepuv?"":b,q.editedFidget.template.properties[a]=b}),q.setPropertiesWindowVisible(!0)}},modes:{move:{name:"Move",init:function(){},onMouseDown:function(a){},onMouseUp:function(a){if(q.isDragging=!1,a.x>q.windowWidth-2*q.beltWidth)q.deleteAll();else if(a.x>0){for(var b=0;b<q.selectedFidgets.length;b++){var c=q.selectedFidgets[b];q.activeContainer!=c.parent&&q.activeContainer&&q.activeContainer.fidgets&&p(c,q.activeContainer),c.posBeforeDrag.left=c.properties.left,c.posBeforeDrag.top=c.properties.top,c.posBeforeDrag._left=c.properties._left,c.posBeforeDrag._top=c.properties._top,q.selectedFidgets[b]=c}n.save(!0)}else{for(var b=0;b<q.selectedFidgets.length;b++){var c=q.selectedFidgets[b];c.properties._left=c.posBeforeDrag._left,c.properties._top=c.posBeforeDrag._top}q.openProperties()}},onMouseMove:function(a){q.isDragging=!0;for(var b=0;b<q.selectedFidgets.length;b++){var c=q.selectedFidgets[b];q.setFidgetPosition(c,a)}},enable:function(){},onEditModelChanged:function(a,b){},showBeltOverlayes:!0}},isMouseDown:!1,isDragging:!1,isMultiSelect:!1,mouseDownPos:{left:0,top:0},deltaMove:1,clearSelectionTimer:null,selectedFidgets:[],actions:[],safetyDistance:50,activeContainer:f.getCurrentScreen(),getAction:function(a,b,c,d,e){return{label:a,iconBase:c,icon:d,onTap:b,enabled:!0,isHidden:function(){},forScreenType:e||g.screenTypesEnum.All,position:Object.keys(q.actions).length+1}},setPosition:function(a,b){for(var c=0;c<Object.keys(q.actions).length;c++){var d=q.actions[Object.keys(q.actions)[c]];d.position==b&&q.setPosition(d,d.position+1)}a.position=b},switchEditMode:function(){q.isEditMode=!q.isEditMode,q.modes.move.enable(),q.isMultiSelect=!1,q.selectedFidgets=[],q.isEditMode?$(".main").attr("tabindex",0):$(".main").removeAttr("tabindex"),$("#angularPerformanceStats").css({right:20+(q.isEditMode?q.beltWidth:0),top:20})},switchMultiSelect:function(){q.isMultiSelect=!q.isMultiSelect,!q.isMultiSelect&&q.selectedFidgets.length>1&&(q.selectedFidgets=[q.selectedFidgets.pop()]),q.isMultiSelect&&(q.currentMode=null)},setFidgetPosition:function(a,b){a.properties.left=a.posBeforeDrag.left+b.x-q.mouseDownPos.x,a.properties.top=a.posBeforeDrag.top+b.y-q.mouseDownPos.y},unselectAll:function(){q.selectedFidgets=[]},deleteAll:function(){for(var a=0;a<q.selectedFidgets.length;a++)f.deleteFidget(q.selectedFidgets[a].parent,q.selectedFidgets[a]);q.selectedFidgets=[],n.save(!0)},disableClearSelection:function(){q.clearSelectionTimer&&(clearTimeout(q.clearSelectionTimer),delete q.clearSelectionTimer)},getMousePos:function(a){if(void 0==a)var b={x:event.clientX,y:event.clientY};else var b=a.center;return b.top&&(b.y=b.top),b.left&&(b.x=b.left),delete b.top,delete b.left,b.x-=q.beltWidth,b},lastMouseAction:null,onScreenTap:function(a){var b=q.getMousePos(a);if(q.lastMouseAction=b,q.isEditMode){var c=q.getClosestFidget(b,a);c?q.onFidgetMouseDown(c,a,!0):q.clearSelectionTimer=setTimeout(function(){q.selectedFidgets=[]},20)}},getFidgetSize:function(a){return"text"==a.source||[0,void 0,null,"undefined"].indexOf(a.properties.width)>-1||[0,void 0,null,"undefined"].indexOf(a.properties.height)>-1?{width:$("#"+a.id).width(),height:$("#"+a.id).height()}:{width:parseInt(a.properties.width),height:parseInt(a.properties.height)}},getClosestFidget:function(a,b,c,d){function e(a,b,c){angular.forEach(a.fidgets,function(d){var f={top:0,left:0};a.properties.borderWidth&&(f.top=parseInt(a.properties.borderWidth),f.left=parseInt(a.properties.borderWidth)),d.absoluteOffset={top:parseInt(parseInt(d.properties.top)+parseInt(b)+parseInt(f.top)),left:parseInt(parseInt(d.properties.left)+parseInt(c)+parseInt(f.left))},h.push(d),"fidgetGroup"==d.source&&e(d,parseInt(d.absoluteOffset.top),parseInt(d.absoluteOffset.left))})}function g(a,b,c){c=[null,void 0,"undefined","NaN"].indexOf(c)>-1?0:c;var d=c*Math.PI/180,e=Math.cos(d)*a+Math.sin(d)*b,f=Math.cos(d)*b-Math.sin(d)*a;return{x:e,y:f}}var h=[];if(q.currentMode){var i=q.currentMode.onGetFidgets(a,b,c,g);if(i)return i}e(f.currentScreen,0,0);for(var j=h.length-1;j>=0;j--){var k=h[j],l=q.getFidgetSize(k);if(!(q.selectedFidgets.indexOf(k)>-1&&c)){var n=parseInt([null,void 0,"undefined","NaN"].indexOf(k.properties.angle)>-1?0:k.properties.angle),o=n*(Math.PI/180),p=m.fitRect(q.getFidgetSize(k),o),r={x:k.absoluteOffset.left+p.width/2,y:k.absoluteOffset.top+p.height/2},s=a.x-r.x,t=a.y-r.y,u=Math.sqrt(s*s+t*t),v=Math.atan2(t,s),w=v-o,x=Math.cos(w)*u,y=Math.sin(w)*u;if(x>-.5*l.width&&x<.5*l.width&&y>-.5*l.height&&y<.5*l.height)return k}}var z,A=-q.safetyDistance-1;if(!d)for(var j=h.length-1;j>=0;j--){var k=h[j],l=q.getFidgetSize(k);if(!(q.selectedFidgets.indexOf(k)>-1&&c)){var n=parseInt([null,void 0,"undefined","NaN"].indexOf(k.properties.angle)>-1?0:k.properties.angle),o=n*(Math.PI/180),p=m.fitRect(q.getFidgetSize(k),o),r={x:k.absoluteOffset.left+p.width/2,y:k.absoluteOffset.top+p.height/2},s=a.x-r.x,t=a.y-r.y,u=Math.sqrt(s*s+t*t),v=Math.atan2(t,s),w=v-o,x=Math.cos(w)*u,y=Math.sin(w)*u;if(x>-.5*(l.width+2*q.safetyDistance)&&x<.5*(l.width+2*q.safetyDistance)&&y>-.5*(l.height+2*q.safetyDistance)&&y<.5*(l.height+2*q.safetyDistance)){var B=l.height/2-y,C=l.height/2+y,D=l.width/2+x,E=l.width/2-x;A<Math.max(Math.min(B,C,E,D),A)&&(A=Math.min(B,C,E,D),z=k)}}}return z},isBeltMoved:!1,_tempFidgets:null,propertiesWindowVisible:!1,setPropertiesWindowVisible:function(a,b){if(a)q._tempFidgets={},angular.forEach(q.selectedFidgets,function(a){q._tempFidgets[a.id]=angular.copy(a)});else{var c=!1,d=[];q.editedFidget==f.currentScreen?c=!0:angular.forEach(q.selectedFidgets,function(a){q.multiEdit&&angular.forEach(q.editedFidget.editedProperties,function(b){q.editedFidget.template.properties[b]!=q.mepuv&&(a.properties[b]=q.editedFidget.properties[b])});for(var b in h.templates)if(h.templates[b].source==a.source){for(var e in h.templates[b].properties)d.push(e);void 0==h.templates[b].properties.onClick&&d.push("onClick");break}angular.forEach(d,function(b){var d=q._tempFidgets[a.id].properties[b],e=a.properties[b];d!=e&&(c=!0)})}),c&&!b?f.generateIndexImage(f.currentScreen,function(){n.save(!0)}):b&&(e.loadState(f.parseJSON(e.history[e.currentHistoryIndex])),n.save(!1))}q.propertiesWindowVisible=a},onMouseDown:function(a){if(q.isEditMode){var b=q.getMousePos(a),c=q.getClosestFidget(b,a);(!(b.x<q.beltWidth||b.x>$(window).width()-q.beltWidth)||c)&&(c&&q.onFidgetMouseDown(c,a,!1),q.disableClearSelection(),q.isMouseDown=!0,q.mouseDownPos={x:b.x,y:b.y},q.originalProperties={},angular.forEach(q.selectedFidgets,function(a){q.originalProperties[a.id]=angular.copy(a.properties)}),q.currentMode?q.currentMode.onMouseDown(b,a):q.modes.move.onMouseDown(b,a))}},windowWidth:d.innerWidth,onMouseUp:function(a){if(q.isEditMode&&q.mouseDownPos&&q.isMouseDown&&0!=q.selectedFidgets.length){var b=q.getMousePos(a);q.currentMode?q.currentMode.onMouseUp(b,a):q.modes.move.onMouseUp(b,a),q.isMouseDown=!1,delete q.activeContainer}},tapCount:0,tapTimeout:null,onFidgetMouseDown:function(a,b,c){if(q.isEditMode){if(q.tapTimeout&&(window.clearTimeout(q.tapTimeout),q.tapTimeout=null),q.tapTimeout=window.setTimeout(function(){q.tapCount=0},400),q.tapCount++,q.tapCount%2==0)return void("undefined"!==a.properties.angle&&(a.properties._angle=(90*Math.floor(a.properties.angle/90)+90)%360));if(q.disableClearSelection(),1===q.tapCount||"panstart"===b.type)if(b.srcEvent.ctrlKey&&!q.isMultiSelect&&q.switchMultiSelect(),q.isMultiSelect)if(-1==q.selectedFidgets.indexOf(a)){var d=!0;angular.forEach(q.selectedFidgets,function(b){b.parent!=a.parent&&(d=!1)}),d||(q.selectedFidgets=[]),a.posBeforeDrag={top:a.properties.top,left:a.properties.left,_top:a.properties._top,_left:a.properties._left},q.selectedFidgets.push(a)}else c&&(q.selectedFidgets.splice(q.selectedFidgets.indexOf(a),1),delete a.posBeforeDrag);else q.selectedFidgets=[],q.selectedFidgets.push(a),q.selectedFidgets[0].posBeforeDrag={top:a.properties.top,left:a.properties.left,_top:a.properties._top,_left:a.properties._left};b.preventDefault()}},onFidgetTemplateMouseDown:function(a,b){if(q.disableClearSelection(),q.isEditMode){q.selectedFidgets=[];var c=h.getFidget(a.root,a.source,q.getMousePos(b).x-a.properties.width/2,q.getMousePos(b).y-a.properties.height/2,a.properties,a.icon,a.name,a);c.parent=f.currentScreen,c.containerLevel=1,f.currentScreen.fidgets.push(c),q.selectedFidgets.push(c),q.selectedFidgets[0].posBeforeDrag={top:c.properties.top,left:c.properties.left,_top:c.properties._top,_left:c.properties._left},q.currentMode=null,q.isMultiSelect=!1}},onKeyDown:function(a){if(q.isEditMode){q.nextKeyTimeout&&(window.clearTimeout(q.nextKeyTimeout),delete q.nextKeyTimeout);var b={Left:37,Up:38,Right:39,Down:40};if(-1!=[b.Left,b.Up,b.Down,b.Right].indexOf(a.keyCode)){for(var c=0;c<q.selectedFidgets.length;c++)if(!a.ctrlKey)switch(a.keyCode){case b.Left:q.selectedFidgets[c].properties.left-=q.deltaMove;break;case b.Right:q.selectedFidgets[c].properties.left+=q.deltaMove;break;case b.Up:q.selectedFidgets[c].properties.top-=q.deltaMove;break;case b.Down:q.selectedFidgets[c].properties.top+=q.deltaMove}q.nextKeyTimeout=window.setTimeout(function(){n.save(!0)},300)}}},onKeyUp:function(a){q.deltaMove=1},onMouseMove:function(a){if(q.isEditMode&&q.mouseDownPos&&q.isMouseDown){var b=q.getMousePos(a),c=q.getClosestFidget(b,a,!0,!0);c&&-1==q.selectedFidgets.indexOf(c.parent)&&"fidgetGroup"==c.source?q.activeContainer=c:c&&-1==q.selectedFidgets.indexOf(c.parent)&&"fidgetGroup"!=c.source?q.activeContainer=c.parent:q.activeContainer=f.currentScreen,q.currentMode?q.currentMode.onMouseMove(b,a):q.modes.move.onMouseMove(b,a)}},watchers:[],addWatchers:function(){q.watchers.push(c.$watch(function(){return q.isMultiSelect},function(a,b){a!=b&&(q.actions.select.sticked=q.isMultiSelect)})),q.watchers.push(c.$watch(function(){return j.clipboard.length},function(a,b){a!=b&&(q.actions.paste.enabled=j.clipboard.length>0)})),q.watchers.push(c.$watch(function(){return q.selectedFidgets.length},function(a,b){a!=b&&(q.actions.copy.enabled=q.selectedFidgets.length>0,q.actions.cut.enabled=q.selectedFidgets.length>0)})),q.watchers.push(c.$watch(function(){return e.currentHistoryIndex},function(a,b){a!=b&&(q.actions.undo.enabled=e.currentHistoryIndex>0,q.actions.redo.enabled=e.currentHistoryIndex<e.history.length-1)})),q.watchers.push(c.$watch(function(){return e.history.length},function(a,b){a!=b&&(q.actions.undo.enabled=e.currentHistoryIndex>0,q.actions.redo.enabled=e.currentHistoryIndex<a-1)})),q.watchers.push(c.$watch(function(){return d.innerWidth},function(a){q.windowWidth=a}))},init:function(b){q.modes.move.enable(),q.beltWidth=b,c.$watch(function(){return f.screens.length},function(a,b){0==a&&a!=b&&(f.screenTypes.length>1&&f.showAddScreen(!0),f.currentScreen=null)}),c.$watch(function(){return q.currentEditorId},function(b,d){b!=d&&q._isEditMode&&q.currentEditorId&&q.currentEditorId!=c.currentUserId&&(l.show(a.trustAsHtml(localization.currentLocal.editMode.editModeTaken),l.types.warning),q._isEditMode=!1)}),c.$watch(function(){return q.isMultiSelect},function(){q.actions.select.sticked=q.isMultiSelect}),c.$watchGroup([function(){return q.isMouseDown},function(){return q.selectedFidgets.length},function(){return q.selectedFidgets},function(){return q.inResize},function(){try{return f.currentScreen.type}catch(a){return f.currentScreen}},function(){return f.currentScreen},function(){return q.currentMode}],function(a,b){var c=!1;if(f.currentScreen){for(var d=0;d<a.length;d++)if(a[d]!=b[d]){c=!0;break}c&&(angular.forEach(q.actions,function(a){a.hidden=a.isHidden()||-1==[f.currentScreen.type,g.screenTypesEnum.All].indexOf(a.forScreenType)}),angular.forEach(h.templates,function(a){a.hidden=-1==[f.currentScreen.type,g.screenTypesEnum.All].indexOf(a.forScreenType)}),q.actions["delete"].enabled=q.selectedFidgets.length>0),angular.forEach(Object.keys(q.modes),function(c){q.modes[c].onEditModelChanged(a,b)})}},!0)},actions:{},addScreenAccesibilities:[],editModeAccesibilities:[],isAddScreenAvailable:function(){var a=!0;return angular.forEach(this.addScreenAccesibilities,function(b){b()||(a=!1)}),a},isEditAvailable:function(){var a=!0;return angular.forEach(this.editModeAccesibilities,function(b){b()||(a=!1)}),a},editSwitch:"views/editSwitch.html",isUserTheEditer:function(){return!q.currentEditorId||q.currentEditorId==c.currentUserId},onIsEditNotAvailable:[],openBelt:function(){q.isEditAvailable()?f.forceScreenBelt=!0:angular.forEach(q.onIsEditNotAvailable,function(a){a(function(){q.openBelt()})})}};q.actions.settings=q.getAction(localization.currentLocal.editMode.settings,function(){k.setVisible(!0)},null,"images/settings.png"),angular.forEach(Object.keys(q.modes),function(a){q.modes[a].init()}),q.actions.update=q.getAction("Update",function(){n.download(!0,!0)},null,"images/down.png"),q.actions.update.position=-2,q.actions.upload=q.getAction("Upload",function(){n.save(!1,!1,!0)},null,"images/up.png"),q.actions.upload.position=-1,q.actions.select=q.getAction(localization.currentLocal.editMode.multiSelect,q.switchMultiSelect,null,"images/select.png"),q.actions["delete"]=q.getAction(localization.currentLocal.buttons.remove,q.deleteAll,null,"images/delete.png"),q.actions.unselect=q.getAction(localization.currentLocal.editMode.unSelect,q.unselectAll,null,"images/unselect.png"),q.actions.undo=q.getAction(localization.currentLocal.editMode.undo,function(){e.undo(),q.selectedFidgets=[],q.clipboard=[],n.save(!1)},null,"images/undo.png"),q.actions.redo=q.getAction(localization.currentLocal.editMode.redo,function(){e.redo(),q.selectedFidgets=[],q.clipboard=[],n.save(!1)},null,"images/redo.png"),q.actions.copy=q.getAction(localization.currentLocal.editMode.copy,function(){j.copy(q.selectedFidgets)},null,"images/copy.png"),q.actions.cut=q.getAction(localization.currentLocal.editMode.cut,function(){j.cut(q.selectedFidgets),q.selectedFidgets=[]},null,"images/cut.png"),q.actions.paste=q.getAction(localization.currentLocal.editMode.paste,function(){j.paste(q.selectedFidgets.length>0&&"fidgetGroup"==q.selectedFidgets[0].source?q.selectedFidgets[0]:f.currentScreen),q.selectedFidgets=j.pasted,angular.forEach(q.selectedFidgets,function(a){a.posBeforeDrag={top:a.properties.top,left:a.properties.left,_top:a.properties._top,_left:a.properties._left}})},null,"images/paste.png"),q.actions["delete"].enabled=!1,q.actions.undo.enabled=!1,q.actions.redo.enabled=!1,q.actions.copy.enabled=!1,q.actions.cut.enabled=!1,q.actions.paste.enabled=!1,q.actions.update.enabled=!1,q.actions.update.position=1,q.actions.upload.enabled=!1,q.actions.upload.position=2,q.actions.update.isHidden=function(){return!n.showBeltActions()},q.actions.upload.isHidden=function(){return!n.showBeltActions()},c.$watchGroup([function(){return n.needReservation()},function(){return n.saveNeeded},function(){return n.downloadNeeded}],function(){q.actions.update.hidden=!n.showBeltActions(),q.actions.upload.hidden=!n.showBeltActions(),q.actions.update.enabled=n.downloadNeeded,q.actions.upload.enabled=n.saveNeeded}),k.offlineMode||(window.onbeforeunload=function(a){return q.currentEditorId&&q.currentEditorId==c.currentUserId&&q.isEditMode?(q.isEditMode=!1,localization.currentLocal.editMode.confirmCloseWhenEditing):void 0}),Object.defineProperty(q,"isEditMode",{get:function(){return q._isEditMode&&q.isEditAvailable()},set:function(a){function d(){!k.offlineMode&&i.connected&&i.callService("/rosapi/set_param",{name:"/currentEditorId",value:JSON.stringify("@null")},function(a){}),b(function(){f.generateIndexImage(f.currentScreen,function(){n.save()})},0,!1)}function g(){q._isEditMode=a,q.currentEditorId=c.currentUserId,n.needReservation()&&(f.localVersion!=n.onlineVersion&&n.versionNotLatestSaveDialog().modal("show"),i.callService("/rosapi/set_param",{name:"/currentEditorId",value:JSON.stringify(c.currentUserId)},function(a){h()})),0==e.history.length&&e.saveState(),q.addWatchers()}function h(){q.isEditMode&&i.callService("/rosapi/get_param",{name:"/currentEditorId"},function(a){var b=JSON.parse(a.value);b="@null"==b?null:b,q.currentEditorId=b,setTimeout(h,1e3)})}function j(a){a?q.currentEditorId&&q.currentEditorId!=c.currentUserId&&n.needReservation()?bootbox.confirm(localization.currentLocal.editMode.confirmTakeEditMode,function(a){a&&g()}):g():(q.currentEditorId=null,q._isEditMode=!1,f.forceScreenBelt=!1,angular.forEach(q.watchers,function(a){a()}),d())}n.needReservation()?i.callService("/rosapi/get_param",{name:"/currentEditorId"},function(b){var c=JSON.parse(b.value);c="@null"==c?null:c,q.currentEditorId=c,j(a)}):j(a)}}),c.$watchCollection(function(){return q.actions},function(){angular.forEach(q.actions,function(a){o.add(a.icon,a.iconBase)})});var r={};return c.$watch(function(){return q.selectedFidgets.length},function(){if(q.selectedFidgets.length>0&&q.isMultiSelect){var a=q.selectedFidgets[0].parent;for(q.selectableFidgets=[],angular.forEach(a.fidgets,function(a){-1==q.selectableFidgets.indexOf(a.id)&&q.selectableFidgets.push(a.id)});a!=f.currentScreen;)-1==q.selectableFidgets.indexOf(a.id)&&q.selectableFidgets.push(a.id),a=a.parent}else q.selectableFidgets=null}),c.$watchCollection(function(){return q.selectedFidgets;
},function(a,b){angular.forEach(b,function(a){r[a]()}),angular.forEach(a,function(a){r[a]=c.$watchGroup([function(){return a.properties.top},function(){return a.properties.left},function(){return a.properties.width},function(){return a.properties.height},function(){return a.parent}],function(){function b(a){var b=q.getFidgetSize(a);a.parent!=f.currentScreen&&!q.isMouseDown&&(a.properties.top+b.height/2>a.parent.properties.height||a.properties.top+b.height/2<0||a.properties.left+b.width/2<0||a.properties.left+b.width/2>a.parent.properties.width)?p(a,a.parent.parent):a.parent==f.currentScreen&&(a.properties.top<0&&(a.properties.top=Math.max(0,a.properties.top)),a.properties.left<0&&(a.properties.left=Math.max(0,a.properties.left)))}b(a),a.fidgets&&angular.forEach(a.fidgets,function(a){b(a)})})})}),q}function enumService(){return{screenTypesEnum:{Normal:"normal",All:"all"},dragCorner:{topLeft:0,topRight:1,bottomLeft:2,bottomRight:3},accessLevelsEnum:{LoggedOut:0,Guest:1,Admin:2}}}function fidgetService(enumService,variableService,colorPickerService,scriptManagerService,$sce,$http,$timeout,$rootScope,iconService){var fidgets={getFidget:function(a,b,c,d,e,f,g,h,i){var j={root:a,source:b,properties:angular.copy(e),icon:f,name:g,template:h};return j.properties._left||(j.properties._left=c),j.properties._top||(j.properties._top=d),i&&(j.parent=i,i.fidgets.push(j)),"fidgetGroup"==j.source&&(j.fidgets=[]),fidgets.defineProperties(j),j},scriptDict:{},templatelessFidgets:[],nextTemplateCheck:null,templateCheckCount:10,reCheckTemplate:function(){fidgets.templateCheckCount--,angular.forEach(fidgets.templatelessFidgets,function(a){fidgets.templates[a.source]&&(a.template=fidgets.templates[a.source],fidgets.templatelessFidgets.splice(fidgets.templatelessFidgets.indexOf(a),1))}),fidgets.templatelessFidgets.length>0&&fidgets.templateCheckCount>0&&(fidgets.nextTemplateCheck&&(window.clearTimeout(fidgets.nextTemplateCheck),fidgets.nextTemplateCheck=null),fidgets.nextTemplateCheck=window.setTimeout(fidgets.reCheckTemplate,1e3))},calculateSizeAndPosProperty:function(fidget,propertyName,currentValue,sizeAndPos){for(var reg=/(\d*%)/g,matches=[],values=[],found;found=reg.exec(currentValue);)matches.push(found[0]);var originalValue=currentValue;angular.forEach(matches,function(a){var b=sizeAndPos[sizeAndPos.indexOf(propertyName)%2],c=0==fidget.parent.containerLevel?parseInt($("#currentScreen").css(b.substring(1))):fidget.parent.properties[b.substring(1)];["fidgetGroup"].indexOf(fidget.parent.source)>-1&&(c-=2*fidget.parent.properties.borderWidth);var d=parseInt(c*(a.substring(0,a.length-1)/100));currentValue=scriptManager.replaceAll(currentValue,a,d)});try{return Number(eval(scriptManagerService.compile(currentValue)))}catch(e){console.log(e)}},defineProperties:function(fidget,isTemplate){fidget.id||(fidget.id="fidget_"+variableService.guid()),isTemplate?fidget.trustedUrl=$sce.trustAsResourceUrl(fidget.root+fidget.source+".html"):(fidget.template=fidgets.templates[fidget.source],fidget.template||(fidget.template=fidgets.getTemplate("views/fidgets/","default",{_width:200,_height:200},enumService.screenTypesEnum.All),fidgets.templatelessFidgets.push(fidget)));var fidgetGet=function(fidget,properties,propertyName){function isFloat(a){return a==Number(a)&&a%1!==0&&!isBoolan(a)&&""!==a}function isInteger(a){return a==Number(a)&&a%1===0&&!isBoolan(a)&&""!==a}function isBoolan(a){return(a===!0||a===!1||"true"===a||"false"===a)&&""!==a}if(-1==[null,void 0,""].indexOf(properties[propertyName])){var currentValue=properties[propertyName],sizeAndPos=["_height","_width","_top","_left"];if(sizeAndPos.indexOf(propertyName)>-1&&!isFloat(currentValue)&&!isInteger(currentValue)&&currentValue.toString().indexOf("%")>-1)return fidgets.calculateSizeAndPosProperty(fidget,propertyName,currentValue,sizeAndPos);if(!(currentValue in fidgets.scriptDict))if(void 0==variableService||0===currentValue)fidgets.scriptDict[currentValue]=!1;else try{eval(scriptManagerService.compile(currentValue)),fidgets.scriptDict[currentValue]=!0}catch(e){fidgets.scriptDict[currentValue]=!1}if(fidgets.scriptDict[currentValue]){var value=eval(scriptManagerService.compile(currentValue));return["object","function"].indexOf(typeof value)>-1?currentValue:isFloat(value)||isInteger(value)&&value.toString().indexOf(".")>-1?value.toString().indexOf(".")==value.toString().length-1?value:Number(Number(value).toFixed(3)):isInteger(value)?Number(value):isBoolan(value)?"true"==value||1==value||1==value:decodeURI(value)}return currentValue}},fidgetSet=function(fidget,properties,propertyName,v){try{var compiledProp=scriptManagerService.compile(properties[propertyName]);eval("typeof "+compiledProp+" == 'string'")||"textInput"==fidget.source?eval(compiledProp+'= "'+encodeURI(v)+'"'):eval(compiledProp+"= "+v)}catch(e){properties[propertyName]=v}};for(var property in fidget.properties)if(0===property.lastIndexOf("_",0)){var definePropertyfidget="Object.defineProperty(fidget.properties, property.substring(1), { configurable: true,";definePropertyfidget+='get: function () { return fidgetGet(fidget, this, "'+property+'")},',definePropertyfidget+='set: function (v) { return fidgetSet(fidget, this, "'+property+'", v)}})',eval(definePropertyfidget)}},getTemplate:function(a,b,c,d,e,f,g){var h={root:a,icon:f,iconBase:e,forScreenType:d,source:b,hidden:d==enumService.screenTypesEnum.Factory,properties:c,name:localization.currentLocal.fidgets[b],propertyLabels:g,editors:{}};return h.properties._top=0,h.properties._left=0,h.properties._enabled=!0,fidgets.defineProperties(h,!0),h}};return fidgets.fonts=["inherit",'"Courier New", Courier, monospace','"Lucida Console", Monaco, monospace',"Verdana, Geneva, sans-serif","Arial, Helvetica, sans-serif",'"Arial Black", Gadget, sans-serif',"Impact, Charcoal, sans-serif","Georgia, serif",'"Times New Roman", Times, serif','"Palatino Linotype", "Book Antiqua", Palatino, serif'],fidgets.templates={fidgetGroup:fidgets.getTemplate("views/fidgets/","fidgetGroup",{_hidden:!1,_name:"",layout:"",_margin:10,_width:200,_height:200,_color:"#D1D1D1",_opacity:.7,_borderColor:"#000000",_borderWidth:"0"},enumService.screenTypesEnum.All,null,"images/fidgets/fidgetGroup.png"),progressBar:fidgets.getTemplate("views/fidgets/","progressBar",{_hidden:!1,_name:"",_width:100,_height:30,_value:"variableService.demo.int",_color:"#ff0000",_fontColor:""},enumService.screenTypesEnum.Normal,null,"images/fidgets/progressBar.png"),button:fidgets.getTemplate("views/fidgets/","button",{_hidden:!1,_name:"",_width:100,_height:30,_text:"Click me",_font:"inherit",_fontSize:12,_color:"",onClick:"#message('Default button action.')"},enumService.screenTypesEnum.Normal,null,"images/fidgets/button.png"),checkBox:fidgets.getTemplate("views/fidgets/","checkBox",{_hidden:!1,_name:"",_width:100,_height:30,_text:"Check me",_value:"variableService.demo.bool",_fontColor:"#000000",_font:"inherit",_fontSize:16},enumService.screenTypesEnum.Normal,null,"images/fidgets/checkBox.png"),textInput:fidgets.getTemplate("views/fidgets/","textInput",{_hidden:!1,_name:"",_width:100,_height:30,_text:"variableService.demo.string"},enumService.screenTypesEnum.Normal,null,"images/fidgets/textInput.png"),text:fidgets.getTemplate("views/fidgets/","text",{_hidden:!1,_name:"",_textAlign:"left",_font:"inherit",_width:100,_height:25,_fontSize:16,_color:"#000000",_text:"variableService.demo.string"},enumService.screenTypesEnum.All,null,"images/fidgets/text.png"),scrollableText:fidgets.getTemplate("views/fidgets/","scrollableText",{_hidden:!1,_name:"",_textAlign:"left",_font:"inherit",_width:100,_height:100,_fontSize:12,_color:"#000000",_text:"variableService.demo.string"},enumService.screenTypesEnum.All,null,"images/fidgets/scrollableText.png"),slider:fidgets.getTemplate("views/fidgets/","slider",{_hidden:!1,_name:"",_width:100,_height:30,_orientation:"horizontal",_value:"variableService.demo.int",_min:0,_max:100,_step:.1},enumService.screenTypesEnum.Normal,null,"images/fidgets/slider.png"),radioButton:fidgets.getTemplate("views/fidgets/","radioButton",{_hidden:!1,_name:"",_width:100,_height:100,_value:"'Option1'",_options:"Option1,Option2",_font:"inherit",_fontSize:16,_fontColor:"#000000"},enumService.screenTypesEnum.Normal,null,"images/fidgets/radioButton.png"),dropdown:fidgets.getTemplate("views/fidgets/","dropdown",{_hidden:!1,_name:"",_width:150,_height:40,_value:"'Option1'",_options:"Option1,Option2",_font:"inherit",_fontSize:16,_fontColor:"#000000"},enumService.screenTypesEnum.Normal,null,"images/fidgets/dropdown.png"),fullgauge:fidgets.getTemplate("views/fidgets/","fullgauge",{_hidden:!1,_name:"",_width:80,_height:80,_value:"variableService.demo.int",_color:"#ff0000",_angleOffset:0,_angleArc:360,_step:.1,_min:0,_max:100,_lock:!1},enumService.screenTypesEnum.Normal,null,"images/fidgets/gauge.png"),"boolean":fidgets.getTemplate("views/fidgets/","boolean",{_hidden:!1,_name:"",_width:100,_height:30,_font:"inherit",_fontSize:16,_color:"#000000",_text:"Bool value",_value:"variableService.demo.bool"},enumService.screenTypesEnum.Normal,null,"images/fidgets/boolean.png"),image:fidgets.getTemplate("views/fidgets/","image",{_hidden:!1,_name:"",_width:100,_height:100,_value:"variableService.demo.image",scale:"aspectFit"},enumService.screenTypesEnum.Normal,null,"images/fidgets/image.png"),indicatorLamp:fidgets.getTemplate("views/fidgets/","indicatorLamp",{_hidden:!1,_name:"",_width:100,_height:30,_text:"Indicate",_value:"variableService.demo.bool",_onColor:"#00ff00",_offColor:"#ff0000",_fontColor:"#000000",_blinking:!1,_blinkFrequency:1},enumService.screenTypesEnum.Normal,null,"images/fidgets/indicatorLamp.png")},$rootScope.$watch(function(){return fidgets.templatelessFidgets.length},function(){fidgets.templateCheckCount=10,fidgets.reCheckTemplate()}),$rootScope.$watchCollection(function(){return fidgets.templates},function(){angular.forEach(fidgets.templates,function(a){iconService.add(a.icon,a.iconBase)})}),fidgets}function helpService(){var a={show:"false"==localStorage.getItem("showHelpmessages")?!1:!0,setShow:function(b){a.show=b,localStorage.setItem("showHelpmessages",b)},open:null,setOpen:function(b){a.open=b},settings:{general:{"for":localization.currentLocal.help.settings.header,source:"views/help/generalSettings.html"},initScript:{"for":localization.currentLocal.help.initScript.header,source:"views/help/initScript.html"},nodes:{"for":localization.currentLocal.help.nodes.header,source:"views/help/nodes.html"},connectionSettings:{"for":localization.currentLocal.help.connectionSettings.header,source:"views/help/connectionSettings.html"},project:{"for":localization.currentLocal.help.project.header,source:"views/help/project.html"},language:{"for":localization.currentLocal.help.language.header,source:"views/help/language.html"},enterprise:{"for":localization.currentLocal.help.enterprise.header,source:"views/help/enterprise.html"},diagnostics:{"for":localization.currentLocal.help.diagnostics.header,source:"views/help/diagnostics_main.html"}},fidgetBelt:{"for":localization.currentLocal.help.fidgetBelt.header,source:"views/help/fidgetBelt.html"},screenBelt:{"for":localization.currentLocal.help.screenBelt.header,source:"views/help/screenBelt.html"},fidgetGroup:{"for":localization.currentLocal.help.fidgetGroup.header,source:"views/help/fidgetGroup.html"},image:{"for":localization.currentLocal.help.image.header,source:"views/help/image.html"},propertiesWindow:{"for":localization.currentLocal.help.propertiesWindow.header,source:"views/help/propertiesWindow.html"},colorPick:{"for":localization.currentLocal.help.colorPick.header,source:"views/help/colorPick.html"},imageExplorer:{"for":localization.currentLocal.help.imageExplorer.header,source:"views/help/imageExplorer.html"},loginWindow:{"for":localization.currentLocal.help.loginWindow.header,source:"views/help/loginWindow.html"},cameraImage:{"for":localization.currentLocal.help.cameraImage.header,source:"views/help/cameraImage.html"}};return a}function historyService(a){var b={history:[],currentHistoryIndex:-1,loadState:function(b,c){if(b){var d=a.forceScreenBelt;a.load(b),a.forceScreenBelt=d}},clearHistory:function(){b.currentHistoryIndex=-1,b.history=[]},undo:function(){b.currentHistoryIndex--,b.loadState(a.parseJSON(b.history[b.currentHistoryIndex]))},redo:function(){b.currentHistoryIndex++,b.loadState(a.parseJSON(b.history[b.currentHistoryIndex]))},saveState:function(){b.currentHistoryIndex<b.history.length&&b.history.splice(b.currentHistoryIndex+1,b.history.length-b.currentHistoryIndex+1);b.history.push(a.toJSON(null,!1)),b.currentHistoryIndex=b.history.length-1}};return b}function iconService(a,b){var c={list:{"images/edit.png":{base:null},"images/help.png":{base:null},"images/openBelt.png":{base:null},"images/logo_small.png":{base:null},"images/logo.png":{base:null}},add:function(a,b){this.list[a]||(this.list[a]={base:b})},get:function(a,c){var d=this.list[a];if(!d)return null;var e=(this.useGlobalBase&&!c?this.globalBase:d.base)||"";return b.trustAsResourceUrl(e+a)},useGlobalBase:!1,globalBase:null};return a.icons=c,c}function imageService(deviceService,settingsWindowService,variableService,popupService,editorService,projectStorageService){var editHandler=editorService,imageHandler={init:function(a){imageHandler.scope=a,imageHandler.setSlots()},visible:!1,setVisible:function(a){imageHandler.visible=a},openImageExplorer:function(el){try{for(var image=eval(eval(el)),i=0;i<this.slots.length;i++)this.slots[i].base64==image&&(this.selectedImage=this.slots[i].name)}catch(e){this.selectedImage=null}imageHandler.updateElement=el,imageHandler.setVisible(!0)},getImageFromFriendlyCache:function(str){try{return str&&str.indexOf("data:image/")>-1?str:eval(str)}catch(e){return console.log("Error loading image",str),""}},slots:[],setSlots:function(){for(var a=0;21>a;a++)imageHandler.slots.push({}),imageHandler.getImage("image"+a,a)},getSlot:function(a){for(var b=null,c=0;c<imageHandler.slots.length;c++)imageHandler.slots[c].name==a&&(b=imageHandler.slots[c]);return b},getImage:function(a,b){projectStorageService.getImage(a,b,imageHandler.slots)},selectedImage:null,setSelectedImage:function(a){imageHandler.selectedImage=a.name},selectImage:function(){eval("imageHandler.scope."+imageHandler.updateElement+" = \"variableService.friendlyCache['"+imageHandler.selectedImage+"'].base64\";"),imageHandler.setVisible(!1)},isValidImage:function(a){var b="null"!=a&&null!=a&&void 0!=a&&imageHandler.getImageFromFriendlyCache(a)&&"null"!=imageHandler.getImageFromFriendlyCache(a);return b},currentImage:null,isEmpty:function(){var a=!0;return angular.forEach(imageHandler.slots,function(b){b.base64&&0===b.base64.indexOf("data:image")&&(a=!1)}),a},tabIndex:0,setTabIndex:function(a){imageHandler.tabIndex=a},removeImage:function(a){projectStorageService.removeImage(a),variableService.friendlyCache[a].base64=null,imageHandler.selectedImage=null},uploadImage:function(a){function b(){imageHandler.scope.blockUI(localization.currentLocal.images.blockMsg);var b=document.createElement("canvas"),c=b.getContext("2d"),d=new Image;d.src=URL.createObjectURL(a),d.onload=function(){function a(a){var b=a.toDataURL("image/png"),c=imageHandler.getSlot(imageHandler.currentImage);c&&(projectStorageService.setImage(imageHandler.currentImage,b),c.base64=b,variableService.friendlyCache[imageHandler.currentImage]=c),imageHandler.scope.$apply(),imageHandler.scope.unBlockUI(),imageHandler.setSelectedImage(variableService.friendlyCache[imageHandler.currentImage]),imageHandler.setTabIndex(0)}b.width=d.width,b.height=d.height,c.drawImage(d,0,0,d.width,d.height),d.width*d.height>786432?(resized=document.createElement("canvas"),resized.width=d.width>d.height?1024:768,resized.height=resized.width/d.width*d.height,canvasResize(b,resized,function(){a(resized)})):a(b)}}return-1==a.type.indexOf("image")?void popupService.show(localization.currentLocal.images.imageError,popupService.types.error):void(imageHandler.getSlot(imageHandler.currentImage).base64?bootbox.confirm(localization.currentLocal.images.confirmOverwrite,function(a){a&&b()}):b())}};return imageHandler}function popupService(){var a={messages:[],minimized:!1,last:function(){return a.messages[a.messages.length-1]},types:{info:{"class":"glyphicon-info-sign",name:"info",color:"text-info"},warning:{"class":"glyphicon-minus-sign",name:"warning",color:"text-warning"},error:{"class":"glyphicon-exclamation-sign",name:"error",color:"text-danger"}},show:function(b,c){void 0==c&&(c=a.types.info),a.messages.push({text:b,type:c})},close:function(){a.messages.pop()},closeAll:function(){a.messages=[]},minimize:function(){a.minimized=!0},get visible(){return!a.minimized&&a.messages.length>0},showAll:function(){a.minimized=!1}};return a}function projectConversionService(a,b){var c={};c.list=[],c.list[0]={to:"1.0",action:function(a){return console.log("converting...",this.from,this.to),a.appVersion=this.to,a}},c.list[1]={from:"1.0",to:"1.1",action:function(a){return console.log("converting...",this.from,this.to),angular.forEach(a.screens,function(a){-1==Object.keys(a.properties).indexOf("hasScreenBelt")&&(a.properties.hasScreenBelt="true")}),a.appVersion=this.to,a}},c.list[2]={from:"1.1",to:"1.2",action:function(a){function b(a){angular.forEach(a.fidgets,function(a){a.fidgets&&b(a),"text"==a.source&&(a.properties._font="inherit",a.properties._textAlign="left"),"scrollableText"==a.source&&(a.properties._font="inherit",a.properties._textAlign="left",a.properties._fontSize=12,a.properties._color="#000000")})}return console.log("converting...",this.from,this.to),angular.forEach(a.screens,function(a){b(a)}),a.appVersion=this.to,a}},c.list[3]={from:"1.2",to:"1.3",action:function(a){return console.log("converting...",this.from,this.to),angular.forEach(a.screens,function(a){a.properties.logo="",a.properties.logoPosition="bottomRight",a.properties.logoWidth=100}),a.appVersion=this.to,a}},c.list[4]={from:"1.3",to:"1.4",action:function(a){function b(a){angular.forEach(a.fidgets,function(a){a.fidgets&&b(a),a.properties._top=a.top,a.properties._left=a.left})}return console.log("converting...",this.from,this.to),angular.forEach(a.screens,function(a){b(a)}),a.appVersion=this.to,a}},c.list[5]={from:"1.4",to:"1.5",action:function(a){function b(a){angular.forEach(a.fidgets,function(a){a.fidgets&&b(a),["boolen","button","checkbox","radioButton"].indexOf(a.source)>-1&&(a.properties._font="inherit",a.properties._fontSize=12,a.properties._color="button"==a.source?"":"#000000")})}return console.log("converting...",this.from,this.to),angular.forEach(a.screens,function(a){b(a)}),a.appVersion=this.to,a}},c.list[6]={from:"1.5",to:"1.6",action:function(a){function b(a){angular.forEach(a.fidgets,function(a){a.fidgets&&b(a),["progressBar"].indexOf(a.source)>-1&&(a.properties._fontColor="")})}return console.log("converting...",this.from,this.to),angular.forEach(a.screens,function(a){b(a)}),a.appVersion=this.to,a}},c.list[7]={from:"1.6",to:"1.7",action:function(a){function b(a){angular.forEach(a.fidgets,function(a){a.fidgets&&b(a),a.properties._enabled=!0})}return console.log("converting...",this.from,this.to),angular.forEach(a.screens,function(a){b(a)}),a.appVersion=this.to,a}},c.list[8]={from:"1.7",to:"1.8",action:function(a){return console.log("converting...",this.from,this.to),a.directConnections={},a.appVersion=this.to,a}},c.list[9]={from:"1.8",to:"1.9",action:function(a){return console.log("converting...",this.from,this.to),a.appVersion=this.to,a}},c.list[10]={from:"1.9",to:"1.9.1",action:function(a){function c(a){angular.forEach(a.fidgets,function(a){a.fidgets&&c(a),a.properties._angle&&(d=!0)})}console.log("converting...",this.from,this.to),a.appVersion=this.to;var d=!1;return angular.forEach(a.screens,function(a){c(a)}),d&&b.show("Due to a change in the project, we can not update the position of your fidgets. Please update your rotated fidget's positions manually!"),a}},c.list[11]={from:"1.9.1",to:"1.9.2",action:function(a){function b(a){angular.forEach(a.fidgets,function(a){a.fidgets&&b(a),["genericObstacle"].indexOf(a.source)>-1&&(a.properties.opacity=1)})}return console.log("converting...",this.from,this.to),a.appVersion=this.to,angular.forEach(a.screens,function(a){b(a)}),a}},c.list[12]={from:"1.9.2",to:"1.9.3",action:function(b){return console.log("converting...",this.from,this.to),b.appVersion=this.to,b.clientId=a.currentUserId,b}},c.list[13]={from:"1.9.3",to:"1.9.4",action:function(a){return console.log("converting...",this.from,this.to),a.appVersion=this.to,a.projectVersion=parseInt(1e6*Math.random()),a}},c.list[14]={from:"1.9.4",to:"1.9.5",action:function(a){return console.log("converting...",this.from,this.to),a.appVersion=this.to,a.theme=localStorage.getItem("theme")||"default",a}},c.list[15]={from:"1.9.5",to:"1.9.6",action:function(a){function b(a){angular.forEach(a.fidgets,function(a){a.fidgets&&b(a),void 0!==a.properties.opacity&&(a.properties._opacity=a.properties.opacity)})}return console.log("converting...",this.from,this.to),a.appVersion=this.to,angular.forEach(a.screens,function(a){b(a)}),a}},c.list[16]={from:"1.9.6",to:"1.9.7",action:function(a){function b(a){angular.forEach(a.fidgets,function(a){a.fidgets&&b(a),!a.properties.layout&&["fidgetGroup"].indexOf(a.source)>-1&&(a.properties._layout="")})}return console.log("converting...",this.from,this.to),a.appVersion=this.to,angular.forEach(a.screens,function(a){b(a)}),a}},c.list[17]={from:"1.9.7",to:"1.9.8",action:function(a){function b(a){angular.forEach(a.fidgets,function(a){a.fidgets&&b(a),a.properties._name=""})}return console.log("converting...",this.from,this.to),a.appVersion=this.to,angular.forEach(a.screens,function(a){b(a)}),a}};var d=0;return c.convert=function(b,e){d++;for(var f=b.appVersion,g=0;g<c.list.length;g++)if(c.list[g].from==f){b=c.list[g].action(b);break}return b.appVersion!=e&&d<=c.list.length&&(c.convert(b,e),d++),a.$apply(),b.appVersion==e?b:null},c}function projectService($rootScope,enumService,fidgetService,popupService,$location,scriptManagerService,variableService,$timeout,backgroundService,projectConversionService,iconService){var project={currentScreen:null,appVersion:null,adminEnabled:!1,_forceScreenBelt:!1,prevProject:null,onlineVersion:null,localVersion:null,projectUploading:!1,needSave:null,testSequence:[],getScreen:function(a,b){return{id:project.getId(),type:b||enumService.screenTypesEnum.Normal,properties:{name:a,hasScreenBelt:"true",logo:"",logoPosition:"bottomRight",logoWidth:0},fidgets:[]}},generateIndexImage:function(a,b){html2canvas(document.getElementById("currentScreen"),{onrendered:function(c){for({w:$(window).width(),h:$(window).height()};c.height/2>240&&c.width/2>400;)c=project.halfScale(c);c=project.halfScale(c,400,240);var d=c.toDataURL("image/jpeg",.3);a&&(a.indexImage=d),b&&b()}})},halfScale:function(a,b,c){var d=document.createElement("canvas").getContext("2d");return d.canvas.width=b||a.width/2,d.canvas.height=c||a.height/2,d.drawImage(a,0,0,a.width,a.height,0,0,b||a.width/2,c||a.height/2),d.canvas},extraParamGetters:[],extraParamSetters:[],extraCleanParamGetters:[],getCleanObject:function(){var a={screens:[],name:"",id:0,backgroundImage:null,interfaceMetaDataList:[],initScript:null,testSequence:[],appVersion:project.appVersion,adminEnabled:!1,password:null};return angular.forEach(project.extraCleanParamGetters,function(b){a=b(a)}),project.interfaceMetaData.list=[],a},getFidgetById:function(a){function b(d){angular.forEach(d.fidgets,function(d){d.id==a?c=d:d.fidgets&&b(d)})}var c=null;return angular.forEach(project.screens,function(a){b(a)}),c},getObject:function(a,b){var c={screens:project.screens,initScript:project.initScript,background:project.backgroundImage,name:project.name,id:project.id,images:a,testSequence:project.testSequence,appVersion:project.appVersion,interfaceMetaDataList:project.interfaceMetaData.list,adminEnabled:project.adminEnabled,clientId:$rootScope.currentUserId,projectVersion:project.localVersion,password:project.password};return angular.forEach(project.extraParamGetters,function(a){c=a(c)}),c},setObject:function(a){},toJSON:function(a,b){var c=[],d=JSON.stringify(project.getObject(a,b),function(a,b){if(!b&&0!==b)return"@null";if(null!=b&&"object"==typeof b){if(c.indexOf(b)>=0)return;c.push(b)}return b});return d},parseJSON:function(a){var b=JSON.parse(a,function(a,b){return"@null"==b?null:b});return b},getId:function(){for(var a=!0,b=variableService.guid();a;)a=!1,angular.forEach(project.screens,function(c){c.id=="screen-"+b&&(a=!0,b=variableService.guid())});return"screen-"+b},addScreenVisible:!1,showAddScreen:function(a){1==project.screenTypes.length&&a?project.screenTypes[0].action():project.addScreenVisible=a},screens:[],backgroundImage:null,id:-1,name:"Project",interfaceMetaData:{list:[],find:function(a){var b=null;return angular.forEach(this.list,function(c){c.path==a&&(b=c)}),b},add:function(a){this.remove(a);var b={path:a,friendlyName:null,subscribed:!1,deepFriendlyNames:{},lastValue:null,isTopic:$rootScope.device.getInterface(a).isTopic};return this.list.push(b),b},remove:function(a){var b=this.list.indexOf(this.find(a));-1!=b&&this.list.splice(b,1)},setFriendlyName:function(a,b,c){var d=!1,e=this.find(a);if(!e&&!c)return d;if(!e&&c)e=this.add(a),d=!0,e.friendlyName=c;else{if(!c&&!e.subscribed)return this.remove(a),d=!0;e.friendlyName=c}return b&&(e.type=b),d},setSubscribed:function(a,b,c){var d=!1,e=this.find(a);if(!e&&!c)return d;if(!e&&c)e=this.add(a),e.subscribed=!0,d=!0;else{if(!c&&!e.friendlyName)return this.remove(a),d=!0;e.subscribed=c}return e.type=b,d},getSubscribed:function(a){var b=this.find(a);return null!=b&&b.subscribed},getFriendlyName:function(a){var b=this.find(a);return null==b?null:b.friendlyName},getDeepFriendlyNames:function(a){var b=this.find(a);return null!=b&&b.deepFriendlyNames?b.deepFriendlyNames:{}},setDeepFriendlyName:function(a,b,c,d,e){var f=this.find(a);f&&f.subscribed&&(f.deepFriendlyNames||(f.deepFriendlyNames={}),e&&f.deepFriendlyNames[e]&&delete f.deepFriendlyNames[e],f.deepFriendlyNames[c]=d,f.type=b)},setLastValue:function(a,b,c){var d=!1,e=this.find(a);return e||(e=this.add(a),d=!0),e.type||(e.type=b),e.lastValue=c,d},getLastValue:function(a){var b=this.find(a);return b&&b.lastValue?b.lastValue:null},setType:function(a,b){var c=!1,d=this.find(a);return d||(d=this.add(a),c=!0),d.type=b,c}},initScript:"/*Nothing set yet*/",setupContainer:function(a,b,c){angular.forEach(a.fidgets,function(d,e){d.parent=a,d.containerLevel=b,fidgetService.defineProperties(d),c&&c(d),"fidgetGroup"==d.source&&project.setupContainer(d,b+1)})},setupFidgets:function(a){angular.forEach(project.screens,function(b,c){b.id=b.id||project.getId(),b.type=b.type||enumService.screenTypesEnum.Normal,b.containerLevel=0,project.setupContainer(b,1,a)}),$rootScope.$watchGroup([function(){return Object.keys(enumService.screenTypesEnum).length},function(){return project.screens.length}],function(a,b){var c=[];angular.forEach(enumService.screenTypesEnum,function(a){c.push(a)}),angular.forEach(project.screens,function(a){a.visible=!a.hidden&&c.indexOf(a.type)>-1})})},updateFidgets:function(a){angular.forEach(a.fidgets,function(a){a.template||(a.template=fidgetService.templates[a.source]),a.fidgets&&project.updateFidgets(a)})},deleteFidget:function(a,b){a.fidgets.splice(a.fidgets.indexOf(b),1)},runInit:function(){fidgetService.scriptDict={};try{eval(scriptManagerService.compile(project.initScript))}catch(ex){popupService.show(localization.currentLocal.settings.tabs.initScript.initException+": "+ex.message,popupService.types.error)}},setCurrentScreen:function(a){return this.currentScreenIndex=this.screens.indexOf(a),this.forceScreenBelt=!1,this.currentLogo=$rootScope.$apply,this.currentScreen=a,a?void $location.path(a.properties.name):void $location.path(null)},setCurrentScreenIndex:function(a){this.setCurrentScreen(this.screens[a])},setCurrentScreenByName:function(a){var b=project.findScreen(a);null!=b?project.setCurrentScreen(b):project.setCurrentScreenIndex(0)},editors:{},currentScreenIndex:0,getCurrentScreen:function(){project.currentScreen=this.screens[Math.min(this.screens.length-1,Math.max(0,this.currentScreenIndex))]},addScreen:function(a){var b="New ";b+=a==enumService.screenTypesEnum.Factory?"Factory":"Screen";for(var c=!0,d="";c;)c=!1,angular.forEach(project.screens,function(a){a.properties.name==b+(""==d?d:" "+d)&&(c=!0,""==d?d=2:d++)});var e=this.getScreen(b+(""==d?d:" "+d),a);return e.backgroundType=backgroundService.backgroundTypes.Image,e.properties.logo="iconService.get('images/logo_small.png')",e.properties.logoWidth=100,e.properties.logoPosition="bottomRight",this.screens.push(e),$rootScope.editScreen(e),e},findScreen:function(a){for(var b=0;b<this.screens.length;b++)if(this.screens[b].properties.name==a)return this.screens[b];return null},findScreenById:function(a){for(var b=0;b<this.screens.length;b++)if(this.screens[b].id==a)return this.screens[b];return null},addDefaultScreens:function(){0==project.screens.length&&$.getJSON("project.json",function(a){var b=JSON.parse(JSON.stringify(a),function(a,b){return"@null"==b?null:b});b=projectConversionService.convert(b,project.appVersion),b.images&&angular.forEach(b.images,function(a){if(a.base64){var b=$rootScope.images.getSlot(a.name);b&&($rootScope.drive.setImage(a.name,a.base64),b.base64=a.base64,variableService.friendlyCache[a.name]=b)}}),project.load(b)})},screenTypes:[],screenAdded:null,projectVersionError:!1,loaded:null,changed:!1,load:function(a){$rootScope.blockMessage==localization.currentLocal.project.loading&&($rootScope.blockMessage=null),project.appVersion!=a.appVersion?project.projectVersionError||(project.projectVersionError=!0,bootbox.confirm(localization.format(localization.currentLocal.project.notForThisVersion,[a.appVersion,project.appVersion]),function(b){if(b){var c=projectConversionService.convert(a,project.appVersion);c?(project.projectVersionError=!1,$rootScope.$apply(function(){project.load(c)})):bootbox.confirm(localization.currentLocal.project.canNotConvert,function(b){b?(project.load(project.getCleanObject()),$rootScope.device.cleanNodes(),$location.path(""),project.projectVersionError=!1,project.currentScreen=null):(a.appVersion=project.appVersion,project.load(a),project.projectVersionError=!1)})}else a.appVersion=project.appVersion,project.load(a)})):(project.prevProject=angular.copy(project),$timeout(function(){project.interfaceMetaData.list=a.interfaceMetaDataList||[]},0,!0),project.name=a.name,project.id=a.id,project.localVersion=a.projectVersion,project.testSequence=a.testSequence||[],project.password=a.password,angular.forEach(project.extraParamSetters,function(b){b(a)}),project.adminEnabled=a.adminEnabled||!1,$timeout(function(){if(project.screens=a.screens,project.backgroundImage=a.backgroundImage,project.setupFidgets(),project.initScript!=a.initScript&&(project.initScript=a.initScript,project.runInit()),-1==project.currentScreenIndex&&project.screens.length>0&&project.setCurrentScreenIndex(0),$rootScope.sessionCookie){var b=$rootScope.startPage||$location.path().substring(1);delete $rootScope.startPage,b?project.setCurrentScreenByName(b):project.currentScreen&&$location.path(project.currentScreen.name)}project.loaded=new Date,console.log("INIT COMPLETE")},0,!0))},getFidgetByName:function(a){function b(a){return!!a&&a.constructor===Array}function c(e){angular.forEach(e.fidgets,function(e){if(e.properties.name==a)if(null!=d){if(!b(d)){var f=d;d=[],d.push(f)}d.push(e)}else d=e;else e.fidgets&&c(e)})}var d=null;return c(project.currentScreen),d},getFidgetById:function(a){function b(d){angular.forEach(d.fidgets,function(d){d.id==a?c=d:d.fidgets&&b(d)})}var c=null;return b(project.currentScreen),c}};return Object.defineProperty(project,"screenBeltVisible",{get:function(){return!project.currentScreen||[null,void 0,!0,"true"].indexOf(project.currentScreen.properties.hasScreenBelt)>-1||project.forceScreenBelt||$rootScope.settings.forceScreenBeltShow}}),Object.defineProperty(project,"currentLogo",{
get:function(){var logo="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";if(project&&project.currentScreen&&project.currentScreen.properties&&""!=project.currentScreen.properties.logo){var base64=eval(project.currentScreen.properties.logo);logo=base64||logo}return logo}}),Object.defineProperty(project,"forceScreenBelt",{get:function(){return project._forceScreenBelt},set:function(a){$rootScope.editHandler.isEditMode||(project._forceScreenBelt=a)}}),project.screenTypes.push({title:localization.currentLocal.buttons.addNormalScreen,icon:"images/normalScreen.png",action:function(){project.addScreen(enumService.screenTypesEnum.Normal),project.showAddScreen(!1),project.needSave={history:!0,ts:Date.now()}}}),project}function projectStorageService(a,b,c,d,e,f,g){var h={mode:localStorage.getItem("projectDriveMode")||"localStorage",saveMode:function(){localStorage.setItem("projectDriveMode",h.mode)},localVersions:[],onlineVersion:null,saving:!1,downloading:!1,editActionsVisible:function(){return this.modes[this.mode].editActionsVisible()},generateVersionId:function(){b.localVersion=g.guid(),h.localVersions.push(b.localVersion)},setMode:function(a){this.mode=a},init:function(){var b=a.$watch(function(){return e.connected},function(a){a&&(console.log("ROS Connected, download project"),h.download(!1,!0),b())});this.modes[this.mode].init()},changeAutoUpdate:function(){localStorage.setItem("isAutoProjectUpdateEnabled",h.isAutoProjectUpdateEnabled)},getImage:function(a,b,c){this.modes[this.mode].getImage(a,b,c)},setImage:function(a,b){this.modes[this.mode].setImage(a,b)},removeImage:function(a){this.modes[this.mode].removeImage(a)},isAutoProjectUpdateEnabled:"false"==localStorage.getItem("isAutoProjectUpdateEnabled")?!1:!0,save:function(a,b,d){a&&c.saveState(),this.modes[this.mode].save(b,d)},download:function(a,b){h.downloading=!0,this.modes[this.mode].download(a,b)},needReservation:function(){return this.modes[this.mode].needReservation()},showBeltActions:function(){return this.modes[this.mode].showBeltActions()},nextSave:null,modes:{rosparam:{needReservation:function(){return h.isAutoProjectUpdateEnabled},showBeltActions:function(){return!h.isAutoProjectUpdateEnabled},download:function(a,c){e.callService("/rosapi/get_param",{name:"/project/projectVersion","default":"0"},function(d){function f(){a||setTimeout(function(){h.download()},2e3)}var g=JSON.parse(d.value);h.onlineVersion=g,-1===h.localVersions.indexOf(g)&&(h.isAutoProjectUpdateEnabled||c)?e.callService("/rosapi/get_param",{name:"project"},function(a){var c=JSON.parse(a.value,function(a,b){return"@null"==b?null:b});c&&c.screens?b.load(c):b.addDefaultScreens(),b.changed=!1,h.localVersions.push(h.onlineVersion),h.downloading=!1,e.changeOnUi=!0,f()}):f()})},save:function(c,d){if(h.isAutoProjectUpdateEnabled||d){if(h.saving)return void(h.nextSave?h.nextSave={overwrite:h.nextSave.overwrite||c,forceWrite:h.nextSave.forceWrite||d}:h.nextSave={overwrite:c,forceWrite:d});h.saving=!0,e.callService("/rosapi/get_param",{name:"/project/projectVersion"},function(d){var f=JSON.parse(d.value);if(-1===h.localVersions.indexOf(f)&&!c)return void h.versionNotLatestSaveDialog().modal("show");h.generateVersionId();var g=b.toJSON(null,!0);e.callService("/rosapi/set_param",{name:"project",value:g},function(c){if(h.onlineVersion=b.localVersion,b.changed=!1,h.saving=!1,e.changeOnUi=!0,h.showProjectSaveError||e.callService("/rosapi/get_param",{name:"project"},function(c){var d=JSON.parse(c.value);if(d.clientId==a.currentUserId&&d.projectVersion==b.localVersion){var e=/\\u([\d\w]{4})/gi;c.value=c.value.replace(e,function(a,b){return String.fromCharCode(parseInt(b,16))}),c.value.replace(/\s/g,"").length!=g.replace(/\s/g,"").length&&bootbox.confirm(localization.currentLocal.project.saveError,function(a){a?h.save(!1,!0,!0):h.showProjectSaveError=!1})}}),h.nextSave){var d=h.nextSave.overwrite,f=h.nextSave.forceWrite;h.nextSave=null,h.modes.rosparam.save(d,f)}})})}else b.changed=!0},init:function(){},getImage:function(b,c,d){e.callService("/rosapi/get_param",{name:b},function(e){var f=JSON.parse(e.value),h=null==f?null:f.base64,i={name:b,base64:h};g.friendlyCache[b]=i,d[c]=i,a.$apply})},setImage:function(a,b){e.nodes.rosapi.set_param.call({name:a,value:JSON.stringify({base64:b})})},removeImage:function(a){e.nodes.rosapi.delete_param.call({name:a})}},localStorage:{needReservation:function(){return!1},showBeltActions:function(){return!1},download:function(){var c=localStorage.getItem("localProject");if(c){var d=b.parseJSON(c);d&&b.load(d)}else b.addDefaultScreens();a.blockMessage=null,h.downloading=!1},save:function(){h.saving=!0,localStorage.setItem("localProject",b.toJSON()),h.saving=!1},init:function(){},getImage:function(a,b,c){var d={name:"image"+b,base64:localStorage.getItem("flexgui4_images_image"+b)};g.friendlyCache[a]=d,c[b]=d},setImage:function(a,b){localStorage.setItem("flexgui4_images_"+a,b)},removeImage:function(a){localStorage.removeItem("flexgui4_images_"+a)}}},versionNotLatestSaveDialog:function(){return bootbox.dialog({message:localization.currentLocal.ros.versionIsNotLatest.body,backdrop:"static",closeButton:!1,keyboard:!1,show:!1,title:localization.currentLocal.ros.versionIsNotLatest.title,buttons:{success:{label:localization.currentLocal.ros.versionIsNotLatest.overwrite,className:"btn-success",callback:function(){h.saving=!1,h.save(!1,!0,!0)}},danger:{label:localization.currentLocal.ros.versionIsNotLatest.update,className:"btn-primary",callback:function(){h.saving=!1,h.download(!0,!0)}}}})}};return Object.defineProperty(h,"downloadNeeded",{get:function(){return-1===h.localVersions.indexOf(h.onlineVersion)&&!h.isAutoProjectUpdateEnabled&&b.loaded&&"rosparam"==h.mode}}),Object.defineProperty(h,"saveNeeded",{get:function(){return b.changed&&!h.isAutoProjectUpdateEnabled&&"rosparam"==h.mode}}),a.$watch(function(){return b.needSave},function(a,b){a&&h.save(a.history)}),h}function projectWindowService(a,b,c,d,e,f,g,h,i,j,k){var l={selectedProject:null,setSelectedProject:function(a,b){var c=null;switch(a){case"local":c=JSON.parse(localStorage.getItem("project_"+b));break;case"remote":c=project}null!=c&&(l.selectedProject=c)},visible:!1,setVisible:function(a){l.visible=a,l.setProjects()},compare:function(a,b){var c=[];return a&&b&&(a.version!=b.version&&c.push("version"),a.name!=b.name&&c.push("name"),a.backgroundImage!=b.backgroundImage&&c.push("backgroundImage"),a.initScript!=b.initScript&&c.push("initScript"),(void 0==a.screens||void 0==b.screens||a.screens.length!=b.screens.length)&&c.push("screens"),a.id!=b.id&&c.push("id")),c},deleteProject:function(a,b){switch(a){case"local":localStorage.removeItem("project_"+b);break;case"remote":}l.setProjects()},clearLocalProjects:function(){for(var a in localStorage)0===a.indexOf("project_")&&localStorage.removeItem(a);l.setProjects()},tabIndex:0,setTabIndex:function(a){l.tabIndex=a},downloadPropject:function(){function b(a){function b(){e.show(localization.currentLocal.settings.tabs.project.savedFailed)}j&&j.createWriter(function(b){b.write(a),e.show(localization.currentLocal.settings.tabs.project.savedToMobile+i)},b)}var d=[],f=0;angular.forEach(h.slots,function(a){d.push({index:f++,name:a.name,base64:a.base64})});var g=c.toJSON(d,!1),i="project"+Date.now()+".fgproj";if(a.isMobile){var j;window.resolveLocalFileSystemURL(cordova.file.externalRootDirectory,function(a){a.getFile(i,{create:!0},function(a){j=a,b(g)})})}else{var k=document.createElement("a");k.style="display: none";var l=new Blob([g],{type:"application/json;charset=utf-8;"}),m=window.URL.createObjectURL(l);k.href=m,k.download=i,document.body.appendChild(k),k.click(),setTimeout(function(){document.body.removeChild(k),window.URL.revokeObjectURL(m)},100)}},clean:function(){bootbox.confirm(localization.currentLocal.settings.tabs.project.cleanConfirm,function(e){e&&(g.switchEditMode(),c.load(c.getCleanObject()),k.generateVersionId(),d.cleanNodes(),c.currentScreen=null,b.path(""),d.changeOnUi=!0,k.save(!0),angular.forEach(h.slots,function(a){h.removeImage(a.name)}),a.$apply())})},uploadProject:function(a){bootbox.confirm(localization.currentLocal.settings.tabs.project.uploadConfirm,function(b){if(b){l.scope.blockUI(localization.currentLocal.project.blockMsg);var g=new FileReader;g.onloadend=function(a){var b=a.target.result,g=JSON.parse(b,function(a,b){return"@null"==b?null:b});g&&(g.images&&g.images.length>0&&bootbox.confirm(localization.currentLocal.settings.tabs.project.uploadImagesConfirm,function(a){a&&angular.forEach(g.images,function(a){if(a.base64){var b=h.getSlot(a.name);b&&(k.setImage(a.name,a.base64),b.base64=a.base64,i.friendlyCache[a.name]=b)}})}),c.load(g),k.generateVersionId(),d.changeOnUi=!0,k.save(!0,!0),f.clearHistory()),l.scope.unBlockUI(),e.show(localization.currentLocal.settings.tabs.project.uploadComplete)},g.readAsText(a)}})}};return l}function scriptManagerService(popupService,variableService,$timeout,$rootScope){var scriptManager={toReplace:[{from:"#autoInit",to:"scriptManagerService.autoInit"},{from:"#setScreenByName",to:"$rootScope.project.setCurrentScreenByName"},{from:"#setScreenByIndex",to:"$rootScope.project.setCurrentScreenIndex"},{from:"#message",to:"popupService.show"},{from:"#warningMessage",to:"popupService.types.warning"},{from:"#infoMessage",to:"popupService.types.info"},{from:"#errorMessage",to:"popupService.types.error"},{from:"#friendly",to:"variableService.friendlyCache"},{from:"#nodes",to:"deviceService.nodes"},{from:"#ros",to:"variableService.ros"},{from:"#createTopic"},{from:"#changeScreen"},{from:"#connectorVariable"},{from:"#getConnectorVariable"},{from:"#setConnectorVariable"},{from:"#getReadyConnectorVariable"},{from:"#timeout"},{from:"#autoDefine"},{from:"#popup"},{from:"#setFunction"},{from:"#callFunction"},{from:"#callService"}],addScriptReplace:function(a,b){var c=!1;angular.forEach(scriptManager.toReplace,function(d){d.from==a&&(d.to=b,c=!0)}),c||scriptManager.toReplace.push({from:a,to:b})},compile:function(a){if(!a)return a;for(var b=0;b<scriptManager.toReplace.length;b++)scriptManager.toReplace[b].to?a=scriptManager.replaceAll(a,scriptManager.toReplace[b].from,scriptManager.toReplace[b].to):a.indexOf&&-1!=a.indexOf(scriptManager.toReplace[b].from)&&(-1==scriptManager.unknownScripts.names.indexOf(scriptManager.toReplace[b].from)&&(scriptManager.unknownScripts.names.push(scriptManager.toReplace[b].from),scriptManager.unknownScripts.alertVisible=!1),a=scriptManager.replaceAll(a,scriptManager.toReplace[b].from,"scriptManagerService.unknownScripts.doNothing"));for(var c=scriptManager.getAllFriendlyVars(a),b=0;b<c.length;b++){var d=variableService.friendlyCache[c[b].substring(1)],e=variableService.userDefined[c[b].substring(1)],f=d&&variableService.friendlyCache[c[b].substring(1)].__isDeep,g=e?"variableService.userDefined['"+c[b].substring(1)+"']":f?variableService.friendlyCache[c[b].substring(1)].value:"variableService.getFriedlyVariable('"+c[b].substring(1)+"')";a=scriptManager.replaceAll(a,c[b],g)}return scriptManager.unknownScripts.names.length>0&&!scriptManager.unknownScripts.alertVisible&&$rootScope.pluginCount==$rootScope.downloadedAddonCount&&(scriptManager.unknownScripts.timeout=$timeout(function(){scriptManager.unknownScripts.alertVisible||(scriptManager.unknownScripts.alertVisible=!0,bootbox.alert(localization.format(localization.currentLocal.wizard.unknownWizard,[scriptManager.unknownScripts.names.join(", <br />")]),function(){}))},500,!0)),a},unknownScripts:{names:[],alertVisible:!1,doNothing:function(){},timeout:null},getAllFriendlyVars:function(a){for(var b,c=/(\@+[a-zA-Z_][a-zA-Z0-9_]*)/g,d=[];b=c.exec(a);)d.push(b[0]);return d.sort(function(a,b){return b.length-a.length})},autoInit:function(name,value){try{if(eval("typeof("+name+")== 'undefined'")){("string"==typeof value||value instanceof String)&&(value="'"+value+"'");var script="";script="object"==typeof value?name+"= JSON.parse('"+JSON.stringify(value)+"')":name+"="+value,eval(script)}}catch(ex){popupService.show(localization.currentLocal.settings.tabs.initScript.autoInitException+": "+ex.message,popupService.types.error)}},replaceAll:function(a,b,c){return null!=a&&void 0!=a?"string"==typeof a?a.replace(new RegExp(b,"g"),c):a:void 0}};return scriptManager}function settingsWindowService(a,b,c,d,e,f,g,h){var i={tabs:[],getTab:function(a,b,c){return{title:b,source:a}},pinchEnabled:"true"==localStorage.getItem("pinchEnabled")?!0:!1,offlineMode:"true"!=localStorage.getItem("offlineMode")&&localStorage.getItem("offlineMode")?!1:!0,visible:!1,setVisible:function(c){i.visible=c,c?(i.lastInitScript=a.initScript,i.setCurrentGroup(d.settingsTabs.general)):(b.updateFriendlyCache(),i.lastInitScript!=a.initScript&&(a.needSave={history:!0,ts:Date.now()},a.runInit()))},isStatVisible:"true"==localStorage.getItem("statVisible")?!0:!1,showStatistics:function(){i.isStatVisible?(showAngularStats({position:"topright",digestTimeThreshold:30,logDigest:!1,logWatches:!1,htmlId:"angularPerformanceStats"}),$("#angularPerformanceStats").css({right:140,top:20})):showAngularStats(!1),localStorage.setItem("statVisible",i.isStatVisible)},saveDiSettings:function(){localStorage.setItem("diIp",b.ip),localStorage.setItem("reconnect",b.reconnect),localStorage.setItem("localAddons",b.localAddons),localStorage.setItem("diSecure",b.secure),localStorage.setItem("diPort",b.port),localStorage.setItem("offlineMode",i.offlineMode),bootbox.confirm(localization.currentLocal.settings.reloadSettingsAlert,function(a){a?location.reload():c.show(localization.currentLocal.settings.loadOnNextStartNote,c.types.info)})},selectLanguage:function(a){localStorage.setItem("language",a),bootbox.confirm(localization.currentLocal.settings.reloadSettingsAlert,function(a){a?location.reload():c.show(localization.currentLocal.settings.loadOnNextStartNote,c.types.info)})},forceScreenBeltShow:"true"==localStorage.getItem("forceScreenBeltShow")?!0:!1,setScreenBeltShow:function(){localStorage.setItem("forceScreenBeltShow",this.forceScreenBeltShow)},loadLocalStorage:function(){this.setViewScale(localStorage.getItem("viewScale")||.5)},currentTab:null,currentGroup:null,setCurrentTab:function(a,b){i.currentTab=a,i.currentGroup=b;var c=angular.element("#settingsTab .helpIcon").scope();c&&(c.$parent.help=a.help)},setCurrentGroup:function(a){if(0==a.children.length){i.currentGroup=a,i.currentTab=a;var b=angular.element("#settingsTab .helpIcon").scope();if(!b)return;b.$parent.help=a.help}},nodesTabSelectedItem:null,setNodesTabSelectedItem:function(a){this.nodesTabSelectedItem=a},refreshCodemirror:!0,options:{lineNumbers:!0,lineWrapping:!0,mode:"javascript"},searchString:"",setSearchString:function(a){i.searchString=a},topicDetails:{saved:!1,repeater:"views/settings/nodes/topicDetails.html",setVisible:function(a,b){this.visible=a,a?(this.saved=!1,this.currentTopic=b,this.originalFriendlyNames=angular.copy(this.currentTopic.deepFriendlyNames)):(this.saved||(this.currentTopic.deepFriendlyNames=angular.copy(this.originalFriendlyNames)),delete this.currentTopic,delete this.originalFriendlyNames)},visible:!1,currentTopic:null,getProperties:function(a){if("object"!=typeof a||!a)return[];var b=[];return angular.forEach(Object.getOwnPropertyNames(a),function(a){0!=a.indexOf("_")&&b.push(a)}),b.sort()},saveFriendlyNames:function(){var b=i.topicDetails.currentTopic;this.originalFriendlyNames&&angular.forEach(Object.keys(this.originalFriendlyNames),function(a){delete f.friendlyCache[a]});var c=b.nodeName;a.interfaceMetaData.find(b.path);angular.forEach(Object.keys(this.currentTopic.deepFriendlyNames),function(d){var e=b.deepFriendlyNames[d],g=void 0==i.topicDetails.originalFriendlyNames?null:Object.keys(i.topicDetails.originalFriendlyNames).indexOf(d)>-1?i.topicDetails.originalFriendlyNames[d]:null;a.interfaceMetaData.setDeepFriendlyName(b.path,b.type,d,e,g),f.friendlyCache[e]={__isDeep:!0,value:"$rootScope.device.nodes['"+c+"']"+d}}),this.saved=!0,this.setVisible(!1)}},addonGeneralSettings:[],addGeneralSetting:function(a,b){i.addonGeneralSettings.push({html:a,description:b})},viewScale:.5,changeScaleTimeout:null,setViewScale:function(a,b){i.viewScale=Math.min(2,Math.max(.1,a)),localStorage.setItem("viewScale",i.viewScale),i.changeScaleTimeout&&window.clearTimeout(i.changeScaleTimeout),i.changeScaleTimeout=window.setTimeout(function(){var a=document.querySelector("meta[name=viewport]");a.setAttribute("content","width=device-width, initial-scale="+i.viewScale+", maximum-scale="+i.viewScale+", user-scalable=no")},b||0)},autoScale:function(){this.setViewScale(1,0),g(function(){function b(a,c,f){angular.forEach(a,function(a){a.fidgets&&b(a.fidgets,a.properties.top,a.properties.left);var g=d.editHandler.getFidgetSize(a),h={width:f+a.properties.left+g.width,height:c+a.properties.top+g.height};e.width=Math.max(e.width,h.width),e.height=Math.max(e.height,h.height)})}var c={width:$(window).width(),height:$(window).height()},e={width:0,height:0};angular.forEach(a.screens,function(a){b(a.fidgets,0,0)}),e.width+=d.editHandler.beltWidth+20,e.height+=20;var f=c.height/e.height,g=c.width/e.width;i.setViewScale(Math.min(f,g))},0)},searchInterfaces:function(){result=[],searched=i.searchString;var a=function(a){(a.friendlyName&&-1!=a.friendlyName.indexOf(searched)||-1!=a.path.indexOf(searched))&&result.push(a)};return angular.forEach(b.topics,a),angular.forEach(b.services,a),result},interfaces:{header:"views/settings/nodes/header.html",item:"views/settings/nodes/interface.html"},shownInterfaces:function(){return searching=this.searchString.length>1,searching?this.searchInterfaces():this.getInterfaces(this.nodesTabSelectedItem)},getInterfaces:function(a){var b=[];return angular.forEach(a,function(a,c){a.isInterface&&b.push(a)}),b},themes:[],getTheme:function(a,b,c,d){return{name:a,colors:b,title:c}},trial:{password:"null"==localStorage.getItem("trialPassword")?null:localStorage.getItem("trialPassword"),username:"null"==localStorage.getItem("trialUsername")?null:localStorage.getItem("trialUsername"),mode:"true"==localStorage.getItem("trialMode")?!0:!1,readMore:function(){window.open(d.flexguiSettings.enterpriseTrialUrl,"_system")},save:function(){d.flexguiSettings.buildInPluginLogin&&(localStorage.setItem("trialPassword",i.trial.password),localStorage.setItem("trialUsername",i.trial.username)),localStorage.setItem("trialMode",i.trial.mode),bootbox.confirm(localization.currentLocal.settings.reloadSettingsAlert,function(a){a?location.reload():c.show(localization.currentLocal.settings.loadOnNextStartNote,c.types.info)})}}};if(!i.theme){var j="styles/themes/default/style.less";$("head").append('<link id="theme" rel="stylesheet/less" href="'+j+'"/>'),less.sheets.push($('link[href="'+j+'"]')[0]),less.refresh(!0)}return $(window).resize(function(){g(function(){i.isVertical=$(window).height()>$(window).width()})}),$(window).resize(),d.settingsTabs||(d.settingsTabs={}),d.settingsTabs||(d.settingsGroups={}),d.nodeExtras||(d.nodeExtras=[]),d.settingsTabs.operation={help:h.settings.project,position:1,source:"views/settings/project.html",title:"Operations",classes:"projectSettingsTab"},d.settingsTabs.init={help:h.settings.initScript,position:2,source:"views/settings/init.html",title:localization.currentLocal.settings.tabs.initScript.title,classes:"settingsScriptTab"},d.settingsTabs.general={help:h.settings.general,children:[],position:1,source:"views/settings/general.html",title:localization.currentLocal.settings.tabs.general.title},d.settingsTabs.nodes={help:h.settings.nodes,children:[],position:3,source:"views/settings/nodes.html",title:localization.currentLocal.settings.tabs.nodes.title,classes:"settingsNodesTab"},d.settingsTabs.connection={help:h.settings.connectionSettings,children:[],position:4,source:"views/settings/connection.html",title:localization.currentLocal.settings.tabs.conn.title,classes:"diSettingsTab"},d.settingsTabs.language={help:h.settings.language,children:[],position:6,source:"views/settings/language.html",title:localization.currentLocal.settings.tabs.language.title,classes:"languageSettingsTab"},d.settingsTabs.enterprise={help:h.settings.enterprise,children:[],position:7,source:"views/settings/enterprise.html",title:localization.currentLocal.settings.tabs.enterprise.title,classes:"enterpriseSettingsTab"},d.settingsTabs.about={children:[],position:9999,source:"views/settings/about.html",title:"About",classes:"aboutSettingsTab"},d.settingsTabs.project={help:h.settings.project,children:[d.settingsTabs.init,d.settingsTabs.operation],position:5,source:"views/settings/project.html",title:localization.currentLocal.settings.tabs.project.title},d.settingsTabs.addons={children:[],position:9998,source:"",title:"Addons",children:[],hideEmpty:!0},i.offlineCheckers=[],i.checkOffline=function(){var a=i.offlineMode;return angular.forEach(i.offlineCheckers,function(b){a&&(a=b())}),a},Object.defineProperty(i,"isSoftwareOffline",{get:function(){return i.checkOffline()}}),d.$watch(function(){return i.pinchEnabled},function(){localStorage.setItem("pinchEnabled",i.pinchEnabled)}),i}function variableService(){var vars={guid:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},date2str:function(x,y){var z={M:x.getMonth()+1,d:x.getDate(),h:x.getHours(),m:x.getMinutes(),s:x.getSeconds()};return y=y.replace(/(M+|d+|h+|m+|s+)/g,function(v){return((v.length>1?"0":"")+eval("z."+v.slice(-1))).slice(-2)}),y.replace(/(y+)/g,function(a){return x.getFullYear().toString().slice(-a.length)})},fitRect:function(a,b){if([null,void 0,"undefined","NaN",0,"0"].indexOf(b)>-1)return a;var c=a.width,d=a.height,e=-c/2,f=c/2,g=c/2,h=-c/2,i=d/2,j=d/2,k=-d/2,l=-d/2,m=e*Math.cos(b)+i*Math.sin(b),n=-e*Math.sin(b)+i*Math.cos(b),o=f*Math.cos(b)+j*Math.sin(b),p=-f*Math.sin(b)+j*Math.cos(b),q=g*Math.cos(b)+k*Math.sin(b),r=-g*Math.sin(b)+k*Math.cos(b),s=h*Math.cos(b)+l*Math.sin(b),t=-h*Math.sin(b)+l*Math.cos(b),u=Math.min(m,o,q,s),v=Math.max(m,o,q,s),w=Math.min(n,p,r,t);y_max=Math.max(n,p,r,t);var x={width:parseInt(v-u),height:parseInt(y_max-w)};return x}};vars.friendlyCache={},vars.unavailableFriendlyCache=[],vars.userDefined={},vars.isFriendlyNameValid=function(a){return-1==Object.keys(vars.friendlyCache).indexOf(a)},vars.removeFriendlyName=function(a){delete vars.friendlyCache[a]},vars.addFriendlyName=function(a,b){vars.friendlyCache[a]=b},vars.getFriedlyVariable=function(a){if(-1!==Object.keys(vars.friendlyCache).indexOf(a)){var b=vars.unavailableFriendlyCache.indexOf(a);return-1!==b&&vars.unavailableFriendlyCache.splice(b,1),vars.friendlyCache[a]}var b=vars.unavailableFriendlyCache.indexOf(a);-1===b&&vars.unavailableFriendlyCache.push(a)},vars.demo={},vars.demo.bool=!0,vars.demo["int"]=10,vars.demo.string="Include Your own text here....",vars.demo["double"]=.5,vars.demo.joint=[.5,.8,1,.13,.2,.9],vars.demo.image="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABdwAAAXcCAIAAAC3V9szAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowNzU4NTA1RjIwNzQxMUUzOUEyMEY0NDFBRDNDQ0Y1RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowNzU4NTA2MDIwNzQxMUUzOUEyMEY0NDFBRDNDQ0Y1RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA3NTg1MDVEMjA3NDExRTM5QTIwRjQ0MUFEM0NDRjVEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA3NTg1MDVFMjA3NDExRTM5QTIwRjQ0MUFEM0NDRjVEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8D+MsQAAPLdJREFUeNrs3QlzEweiteF4kY0Bb5jFDEtI5mbm+///5g4ZzJZgE++WLVuypdvQX6WomQBedXp5nqKmSCYVq49cSH7T3ZrY2N77AQAAAIDxmjQBAAAAwPiJMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgDAAAAECDKAAAAAASIMgAAAAABogwAAABAgCgD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AAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAERBkAAACAgCgDAAAAEBBlAAAAAAKiDAAAAEBAlAEAAAAIiDIAAAAAAVEGAAAAICDKAAAAAAREGQAAAICAKAMAAAAQEGUAAAAAAqIMAAAAQECUAQAAAAiIMgAAAAABUQYAAAAgIMoAAAAABEQZAAAAgIAoAwAAABAQZQAAAAACogwAAABAQJQBAAAACIgyAAAAAAFRBgAAACAgygAAAAAE/luAAQDuTxHEQ8GXwwAAAABJRU5ErkJggg==",
vars.demo.flexGuiBig="data:image/png;base64,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",vars.demo.flexGuiSmall="data:image/png;base64,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",vars.demo.nut="data:image/jpeg;base64,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",vars.demo.bolt="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCAB1AJkDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAEFAgMEBgf/xAAwEAACAgEDAwIEBQQDAAAAAAAAAQIDEQQSIQUxQVFhEyJxgQYUMqHBQmKR0VLh8P/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/EABURAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIRAxEAPwD6AAAAAAAACA2CJAQ54NV1rqqc3jHgix5aS8s1a7mNdfzrMv6V3AiPUK/zEdPJ4taztwdasyePlY7fxFKUJfLWuMPjJ6iqWcAdSeSTGJkBIAAAAAAAAAAAAAAQAZhJmTNU2BhF5vXssnD1G9Rv5WIxi3nPDf0OyKfzzy1nyvBSa2zFWpsUoc8NxWM8ec/wBwdKTnqrbmsuUvJ6jTdked6LW40pvy8npdOsIDpiSEAJAAAAAAAAAAAAACCTFgYyZotmo4y+5tnJRTbeEVmt1dWmg7b3P+1JAb53NU4jzJ/bBQ9Rr1M9Nt+FKWXltLODfT1aWoTlCqqKzjm7P8cGyeupnHZuhJy42ry8PK/ZhGvpaxTDgvtO+CpoUYtbViPsWNEgrvXYGEJGeQJBBIAAAAAAAAAAADF9jIxYHNqHlJP6lPr6/wAxFxnyvQurY7o+5X2QyWJXmpdM+BPfS3FmDc63ulxNdvrnuehnTk4tRpVJPgqNOg6hGzVWUSxGS5XGMl7TLhHla+mSevjJyagv1Y8no67FGOZNJIyqyrmblMprNdtTjH5f7pf6/wBirV2N5rcnHs5T45/j908hV2pGSZW6LXV6qD2yW6HEkmd0GBtBBIAAAAAAAAEESJZg2Bi1k57qZN7oLPqjoys4ys+hOUl6AVzps81tfuaLYTUW1XJ/sWF2rqqe1tOb8FXqtXZKxQ2tvyscRX0Xde+SjRCtp7rGk37/APsj8xFpfCW6T3RSl7d+PVZ7P1OLUaqFMZq9qzLXCkmueyfqn+xWO7WazMKY7a88ty7JpY8cuLT59yCwt6hTVU3ODnOP/HD79sZ8ZOKL1WtUIzTqqwksvLx6fZrP3M69BTTHM8Sly0n6vn78nbpdPdN/K3hvvLl9wO7olColNrltcv3PQ1FdotP8KCX+SzguAM0SQSAAAAAACCSAMZPk49VdLa4VyxJ92dciutWJtejLBSSu1Oj1O6be58985O19Rv1FSVMd828YXZZ9Ts2Qtiq7ob4ej8fQ+f2au2PWbK3ZN1qyVainhYy0v8Z7+wRfa7qlGlcnqb/i344rreUvqzTR1S7X9KlX8PbfBp1zw+yfc49J+G5ue/VWJQT7Lz9y4jVCmtU6aCUVjlEVW1dKrr+fUT3v08Lyd9cZyjsrgksvnHv/ANI6qdI54c+Swp0qj4A4dPoMyUp8v3LWjTqK4RsrqS8HRCGAFcMG9diIxMgBJBIAAAAAAIZJAGElk4tRW1Ld4Z34MZwU4tNFFbjB4P8AFOjlpOru2CxXct8Wuyfk+gWVSrfqvUrNTT+dvg3Smq3mMpR5T9giv0Ls1Omqc4yj8v6ZLBaU6btwb6dLtS4OuurBFaq6UkdEa8GyMMGxRAwjA2KJKRIBEgAAAAAAAAAAABAAAhxTRr+FHPYACfhxJUUABkkSAAJAAAAAAAAAA//Z",vars.demo.part1="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCABkAGQDASIAAhEBAxEB/8QAGwAAAgIDAQAAAAAAAAAAAAAAAAYEBQECAwf/xAA1EAACAQMDAgMGBQUBAAMAAAABAgMABBEFITESQVFhcQYTIoGRoUKxwdHwFBUyUuEjBzNi/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAIB/8QAGxEBAQEBAQEBAQAAAAAAAAAAAAERITECQWH/2gAMAwEAAhEDEQA/APQKKKxQFQ7q9gtHjWdugykhT2+f2+tRdT1aOymWGSOUh06uqMjI3P7Uoz3s80SwyOzqh+HO+Pn4eXFbjDLc66Iby5g6VIjUiJxwWxwd/HbyqM+p3N5axYASRJAzEHAJG42/P0qlt7O6uMdCEj8WM7fY/fFWdrbi0UpNCHb/APXUp+e9MJ6ktqkq6mbgx/D09HRn9ceP7V3g1Z44GEoDSMSQxIwAfn48VBdgZiVAUHbpBOK5uwJbrXqwc/DjfyAyPIcnufAHMUYY9RikuoYFyWkXJxwNs/pUtZUcsEYMVODg8Urxxe+kVIJRHKuejcgkd8d+AeM7Yrimo3WmI9qAqylslyc4GB545HO/hTGenSiodve291I6W8qyMg+Lp3A8N6mUGKKzRQYqq1q+/pohCYi4nRlyDjp2xn71NuZoreEvK3QvGd9qSr68cSMpneVVY9DMe3iB962MqHLJmQRICTnc/n/2pljBmZFAy7sFGe2Tjbw555reC1EURLAdbHJ8vAZ/m9dI2MDI42ZD1fOt9pOThwt7eO2iEcQwo8q0vbdbmBlbnGx7is2tzHdwCWJgQfsa0v7uO0gLOwDNso8TUtKobqmCLkFjjGecimGz0eKNQ04Ej/alhJkh1GNmbCo4O5wDgg/uPnTvG6yxh42DKwyGByCK0zFTqulRPA8lugSRB1YHBx5fKlSS996nROerwduR5Z/XnxyMkPl7cR2tpLPLjojUsc98V5VJc52HHGSKxsXdnfXenSNBbOkRlZcuyjbfbnOwJzk0829zDcKfc3Ec3TgEowP1xSJa3MN7pL2kgiSeH4llY4JXjGfXb0I75NWPsrqLIVsLey65HJaSX3mNs8kY7DA9fDNamXadaKKKxqk165nhtukRo0UgKlmG4JHr/MUnWDte6s6YykJHbk52H1/KmbWkjebAlaQgEMCxITB8f0+tL/smmFkuWOW98pbPcDB/WtZp1tdNgijHvI1kcjckZH3qNqukxzW7vbqElUEgAbN5Y7etW6sGAZSCDXO5mW3geV/8UGTWNIC3ckB/8ZGjJ5Ktigzzzye9aTqZcZeV9vLn04Gc4rksRZxkEgbkA74GScfKo89yuoaj7l3FtAoAbpBPSOyjHHPPc5JPjTJ/G10rXIYvIoJ3B6WGNttuONqxpvtPfaVEYIyjopPwyDqAPyI2rbXbOO2CLaXEspKgkuBhhgYOfTHNL0kgaMAj4gRg+Ixx9MfSo96uzF3f67qWuzJbueoMcLDEuAxP3J+dXMHsLcyQ9U93HE+MhAnXv4ZzVd/8fJG2vsXGWSBmTyOQCfoTzXp1al5dd6dcaBfwf1kIlg6s5XPTIAdx4/wVZ6pFJp+thEujYwzqGZouoBRvnYc7jjzHHa89to439npncAtGylPXqA/I0va5c/1OiaPNz0oVbPiAo+/SaqIvKeLeeK4gSWGRZUI2cMN6KgaPeST6ejQ6bLBENkQMCCPEEkc55xvzRUrRtZ6mn/8ApMfI6v8Af+Z/nFUPssuLN++JCCB22XFMmsxyOUZ5QIgfgXJyT+X5YGaW9ET+m1G8tQpCsepd+Ofvgj6VX4kwwXk9tGQrBkH4WGR9dqh6hdT3igSOAn+oGAfXkmp2m2fvncTbop79z51aNZWrL0NBGRj/AF/WpVCbbhIp8HPxqyALuSSpwB9aXrv/AM9UmZ/hWRupfHHh6imH2jsnsbpBGW924JUnse4+X7VGDW13Af6qIGdj1F2JKsT+LxB9NvKq98JMqruJV7PkKMZPeqZoXCl+wOT5Z4H5/Q00S2NpHbkxiNmJy3SWYjnsQPEfTyBqnukdyqRoQDwi7knt6nwH8MeK9cNJvpdOvo7qEDqjPB4YdxXodv7a6RJEGmkkgfH+BRmP2GKprD2Fmktw15ciCQjPQi9ePnnn+Zqt1/2Yn0dVlD+/gbYuE6Sp8x+uaMb+1PtJ/eClvaqyWqHq+LYue23gKxfN0+z2nQNszZYfUn8mFUSxFmwAST28TVxdSrPc2sYPvIIlUZRhkgAA79jhRyMg1Xyinaxj1NLSPq1C1nyoIcxe828m6lz9KKkaLHbR6bH/AG9+mFt/j/yLcEn6dttqKlSVfwxvGXaIyOoPSBn9KVdQjktbhJxGEZCMjGDj/oOM/wDKdao9RtUVS0jGRpDjpI7evp/yqYk6NKkkJ6GBB3Hn2/SrOki1uX0+4MbNhM5Vv5+X8Nz/AHS5dOlCgz+ILk+vP6VjccPagJcXMEQ5jBLYHjjH5VHsNAa5j62b3ak7EgnNdRAzuXclmPLE5JNMkSqsSKv+IAArewKuraJJa26+6PvE/G2MEfKomjacv91tZWHwqxOPDY4++Kd3UOhVhkEb0tqgUq6sykHYgbDbn0zU2qnTNVb7Qqj6FfCQAgQsw9QDj71rHq8AwJyY3PkSD86pdcv59WYabYoVic5llYEALzx8vKtnam8nSrp9jcSwveRx9UcPJJ6d/L05+lXfs/Z3z3JvbPoHS2G6iNx4EbnG37V1nw9tHpWmws0Me8jKCxkPiceZ798Y4FMelWMNrCJYoXhaRR1xsTgHjj+c1V4n5u9WgO3xYBoraipUK5tGjkFlBx4jNdKKBbv9JLREyBT1HGx3B8flvVekVzpgDFTNDySBuBznHyO/G+/anFlDEZGSNxtUSW2ADvnJJyB600QLGSG8QNG6k5wRnBHy5wcbZqyScKeg9ttt6rLvSOplliYxSeK/iOe4+VYjlv7eRTc2wlDbFkOTnOMkY444439KwTLy/QxMkJyTsWH4aqT8OxO256jnf0H6b1LSZJJSZbeSMHbJjOPrjvnw7HyJx/SPJN0qrGLPG4AoqXFTcXCuy26IQwBIYjOPPH78HtWLaO6mgaBI/i3ZmQEk9j5+H5VfHTAQSuAc8cD+ftUyGzihm95ECuQQQOO37Vs+s8TZvqu0zSlgENzBKVfp+LqGQf8Ab08qvaKKAooooCiiigKKKKDUgc9xWiqC0gO+Tj7D96KKAdVchWGQc1uFC8CiisG1FFFaCiiigKKKKD//2Q==",vars.demo.part2="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCABhAGMDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAECAwQGBQf/xAA2EAACAQMCAwYDBAsAAAAAAAAAAQIDBBEFMRIhURMUIkFhkQaBsTJSoeEVJVNiY3Fyc8HR8f/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/EABoRAQEAAwEBAAAAAAAAAAAAAAABAhExIRL/2gAMAwEAAhEDEQA/APoAAAAAAAAAIGV1AkAAAAAAAAAAAAAAAEGnPULSE4wlXgpSbS8XmvLPluhqiXcajfkjl9USp04T24bmplfywyZXUWTddpkkwWs3UtaM3u4Rb9jMVEgAAAAAIAEggASCBldQNPU05WFVLfC+pzHxBB91ucS+zccl/UvyOl1Wp2en1JJ88pL3Ob1yK7lcTUvtKnUe2HyxkxlxrHrqdPf6vtv7cfojZ6nm/D9dV9Ds5/w0vbkejlc+ZqcZvVgRkZXVFEgjK6gBldSMrqefqcJ1KcVxwjDKzxSazl+noea4Vlw8dzSXFN7TbXLKWflgDoO0p5xxxznG/mVVxQcVJVqbi9mpI8KpbNU5ccqLfC+SlU/AyRsFKSlKpSUmt05N+7yRfHo1NSs4tpV4ya54i8/kaVbXqMG1CjKaXT/jK9xlxYVemnjp+RNG0qwckrqgm3uoRz9CerNPO1D4hlX4qMbOalTlu3546NdTRv5zv6i7GhUpUmo00qlOTePXGdtz16ttdQuK0I38aUFPjXk8vLbNWUbhtr9Ncl++Yy+q1NRp6Zea5Y0ZUqdjVq0+LMeOm+S6I2Jaxr8mmrCpDMtlSlhL15f6EoUlF9rqtTPnwxT/AMmJ07XEX3i7njGHGkly3wvT19BNwuqxT1rWOKLlCtF8Lms8vC/PZGOlqOq1nFqvOGFjx1cLD2znC+e/Uwq3pZoSlG6fCmq3PDfJbPpn3Kwt4KdOatq7UF4oSqLntg16zdOzsL9zs6crqcY1sNTVOcZRzndP13Bz1j8Md6s6dedzVpOefA1tzYNMu0aTWGhwr7q9iwKK4GCwAp2cfuR9jG7Si5cXZrPUzgDUlY2823Kknnd8y0bK3isRpJfNmwAMPdaP7OPsS6NNqWaUHxb+FczKCCihFZxFc/Qtj0LAoqkksY/AFgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf//Z",vars.demo.part3="data:image/jpeg;base64,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";var keys={},propertyCount=0;return vars.getProperties=function(a,b,c,d,e){
"string"!=typeof a&&a&&angular.forEach(Object.getOwnPropertyNames(a),function(f){if("function"!=typeof a[f]){if($.isArray(a))var g=b+"["+f+"]";else var g=b+"['"+f+"']";var h={path:c+g,value:a[f],children:[],name:f};null!==a[f]&&"object"==typeof a[f]&&vars.getProperties(a[f],g,c,h,e),0!=h.children.length?delete h.value:h.onSave=e,d.children.push(h),propertyCount++}})},vars.getVariables=function(a){keys={path:"",children:[],name:"root"},propertyCount=0;var b={path:"userDefined",children:[],name:"User defined variables"},c={path:"friendlyCache",children:[],name:"Friendly cache"};return vars.getProperties(vars.userDefined,"","variableService.userDefined",b),vars.getProperties(vars.friendlyCache,"","variableService.friendlyCache",c),keys.children.push(b),keys.children.push(c),a&&angular.forEach(a,function(a){var b={path:a.key,children:[],name:a.name};vars.getProperties(a.value,"",a.key,b,a.onSave),keys.children.push(b)}),keys.propertyCount=propertyCount-keys.children.length-1,keys},vars}angular.module("flexGuiApp",["ngCookies","ngRoute","ngSanitize","ui.bootstrap-slider","perfect_scrollbar","jg.knob","hmTouchEvents","ngCordova","angularStats","ui.router","oc.lazyLoad"]).directive("ngFileSelect",ngFileSelect).directive("fgFidgetRepeater",function(){var a={restrict:"AEC",template:function(a,b){return"<div class='fidget {{fidget.properties.name}}' ng-if='fidget.template' id='{{fidget.id}}' ng-repeat='fidget in "+b.fidgets+" track by fidget.id' ng-class=\"{'notSelectable': editHandler.selectableFidgets != null && editHandler.selectableFidgets.indexOf(fidget.id) == -1,  'editModeOn': editHandler.isEditMode, 'hidden': fidget.properties.hidden && !editHandler.isEditMode, 'selected': editHandler.selectedFidgets.indexOf(fidget) >= 0  }\" style=\"left:{{fidget.properties.left}}px; top: {{fidget.properties.top}}px;\"><div ng-class=\"{'disabled': [false, 'false', 0].indexOf(fidget.properties.enabled) != -1 ,'clickable': !editHandler.isEditMode && [undefined, 'undefined', '', null, 'null'].indexOf(fidget.properties.onClick) == -1, 'selectedFidget': editHandler.selectedFidgets.indexOf(fidget) > -1 && editHandler.isEditMode, 'dragged': editHandler.selectedFidgets.length > 0 && editHandler.isMouseDown && !editHandler.inResize && editHandler.selectedFidgets.indexOf(fidget) > -1 }\"><ng-include ng-controller='fidgetCtrl' src=\"toTrustedUrl(fidget.template.root + fidget.template.source + '.html')\"></ng-include></div></div>"}};return a}).directive("scrollTopOnRefresh",function(){return function(a,b,c){a.$last&&setTimeout(function(){$(".scrollTop").each(function(){$(this).scrollTop(0)})},500)}}).directive("scrollBottomOnRefresh",function(){return function(a,b,c){a.$last&&setTimeout(function(){$(".scrollBottom").each(function(){$(this).scrollTop($(this).find(".scrollItems").prop("scrollHeight"))})},500)}}).directive("showPerfectScrollBar",function(){return function(a,b,c){setTimeout(function(){$(".perfectScrollBar").each(function(){$(this).perfectScrollbar("update")})},500)}}).directive("imageload",function(){return{restrict:"A",link:function(a,b,c){b.bind("load",function(){a.$apply(c.imageload)})}}}).directive("imageerror",function(){return{restrict:"A",link:function(a,b,c){b.bind("error",function(){a.$apply(c.imageerror)})}}}).directive("compile",["$compile",function(a){return function(b,c,d){b.$watch(function(a){return a.$eval(d.compile)},function(d){c.html(d),a(c.contents())(b)})}}]).filter("isTopicFilter",function(){return function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],f=e.isTopic||!1;f===b&&c.push(e)}return c}}).filter("orderObjectBy",function(){return function(a,b,c){var d=[];return angular.forEach(a,function(a){d.push(a)}),d.sort(function(a,c){return a[b]>c[b]?1:-1}),c&&d.reverse(),d}}).filter("stringSort",function(){return function(a){return a.sort()}}).controller("flexGuiCtrl",flexGuiCtrl).controller("propertiesWindowCtrl",propertiesWindowCtrl).controller("fidgetCtrl",fidgetCtrl).controller("fidgetGroupCtrl",fidgetGroupCtrl).factory("backgroundService",backgroundService).factory("editorService",editorService).factory("deviceService",deviceService).factory("imageService",imageService).factory("fidgetService",fidgetService).factory("projectService",projectService).factory("projectWindowService",projectWindowService).factory("historyService",historyService).factory("enumService",enumService).factory("variableService",variableService).factory("clipboardService",clipboardService).factory("settingsWindowService",settingsWindowService).factory("helpService",helpService).factory("popupService",popupService).factory("scriptManagerService",scriptManagerService).factory("colorPickerService",colorPickerService).factory("projectConversionService",projectConversionService).factory("projectStorageService",projectStorageService).factory("diagnosticsService",diagnosticsService).factory("backupService",backupService).factory("iconService",iconService).config(appConfig).config(["$ocLazyLoadProvider",function(a){a.config({modules:[],asyncLoader:$script})}]).run(run),appConfig.$inject=["$controllerProvider","$compileProvider","$filterProvider","$provide"],ngFileSelect.$inject=["$parse","projectWindowService"],run.$inject=["$rootScope","$templateCache","$injector","popupService","$location","$timeout","$ocLazyLoad","$cookies","$window","settingsWindowService","$sce","projectService","variableService","deviceService"],fidgetCtrl.$inject=["$http","$sce","$scope","$window","$location","$routeParams","$attrs","editorService","popupService","deviceService","scriptManagerService","projectService","variableService","settingsWindowService","$timeout","$rootScope"],fidgetGroupCtrl.$inject=["$http","$sce","$scope","$window","$location","$routeParams","$attrs","editorService","popupService","deviceService","scriptManagerService","projectService","variableService","settingsWindowService","$timeout","$rootScope"],flexGuiCtrl.$inject=["$scope","$window","$location","$routeParams","$sce","$timeout","$rootScope","$interval","$injector","$cookies","editorService","historyService","deviceService","imageService","fidgetService","projectService","enumService","projectWindowService","variableService","clipboardService","settingsWindowService","colorPickerService","helpService","popupService","scriptManagerService","projectStorageService","diagnosticsService","backupService"],propertiesWindowCtrl.$inject=["$scope","$rootScope","$window","$location","$routeParams","projectService","deviceService","editorService","colorPickerService","scriptManagerService","variableService","enumService","backgroundService","projectStorageService","fidgetService"],angular.module("jg.knob",[]).directive("jgKnob",function(){return{restrict:"AE",require:"ngModel",scope:{displayInput:"=",cursor:"=",width:"=",min:"=",max:"=",gaugeStep:"=",lineCap:"=",ngModel:"=",angleOffset:"=",linecap:"=",fgColor:"=",angleArc:"=",value:"="},link:function(a,b,c,d){d.$render=function(){b.val(d.$viewValue).trigger("change")},b.knob({displayInput:a.displayInput,cursor:a.cursor,width:a.width,height:a.width,min:a.min,max:a.max,step:a.gaugeStep,angleOffset:a.angleOffset,lineCap:a.linecap,fgColor:a.fgColor,angleArc:a.angleArc,change:function(a){d.$setViewValue(a)}}),a.$watch("width",function(){"undefined"!=typeof a.width&&b.trigger("configure",{width:a.width,height:a.width})}),a.$watch("fgColor",function(){"undefined"!=typeof a.fgColor&&b.trigger("configure",{fgColor:a.fgColor,inputColor:a.fgColor})}),a.$watch("value",function(){"undefined"!=typeof a.value&&b.val(a.value).trigger("change")}),a.$watch("min",function(){"undefined"!=typeof a.min&&b.trigger("configure",{min:a.min})}),a.$watch("max",function(){"undefined"!=typeof a.max&&b.trigger("configure",{max:a.max})}),a.$watch("gaugeStep",function(){"undefined"!=typeof a.gaugeStep&&b.trigger("configure",{step:a.gaugeStep})}),a.$watch("angleArc",function(){"undefined"!=typeof a.angleArc&&b.trigger("configure",{angleArc:a.angleArc})}),a.$watch("angleOffset",function(){"undefined"!=typeof a.angleOffset&&b.trigger("configure",{angleOffset:a.angleOffset})})}}}),backgroundService.$inject=["$rootScope","colorPickerService"],backupService.$inject=["$rootScope","projectService","$timeout","settingsWindowService"],clipboardService.$inject=["projectService","deviceService","fidgetService","projectStorageService"],deviceService.$inject=["$rootScope","historyService","projectService","variableService","popupService","scriptManagerService","fidgetService","$interval","$timeout"],diagnosticsService.$inject=["deviceService","$rootScope","settingsWindowService","projectService","projectStorageService","variableService","helpService"],editorService.$inject=["$sce","$timeout","$rootScope","$window","historyService","projectService","enumService","fidgetService","deviceService","clipboardService","settingsWindowService","popupService","variableService","projectStorageService","iconService"],fidgetService.$inject=["enumService","variableService","colorPickerService","scriptManagerService","$sce","$http","$timeout","$rootScope","iconService"],historyService.$inject=["projectService"],iconService.$inject=["$rootScope","$sce"],imageService.$inject=["deviceService","settingsWindowService","variableService","popupService","editorService","projectStorageService"],projectConversionService.$inject=["$rootScope","popupService"],projectService.$inject=["$rootScope","enumService","fidgetService","popupService","$location","scriptManagerService","variableService","$timeout","backgroundService","projectConversionService","iconService"],projectStorageService.$inject=["$rootScope","projectService","historyService","settingsWindowService","deviceService","$timeout","variableService"],projectWindowService.$inject=["$rootScope","$location","projectService","deviceService","popupService","historyService","editorService","imageService","variableService","settingsWindowService","projectStorageService"],scriptManagerService.$inject=["popupService","variableService","$timeout","$rootScope"],settingsWindowService.$inject=["projectService","deviceService","popupService","$rootScope","$cookies","variableService","$timeout","helpService"];