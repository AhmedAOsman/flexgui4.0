function shortcutService(a,b,c,d,e,f,g){return $.getScript(a.addonServerUrl+"addons/shortcut/scripts/3rdParty/shortcut.js",function(){var g={type:"keydown",propagate:!1,target:document,disable_in_input:!0},h=!1;shortcut.add("Esc",function(){b.isEditMode&&(b.mouseDownPos&&b.isMouseDown?(angular.forEach(b.selectedFidgets,function(a){a.properties._width=b.originalProperties[a.id]._width,a.properties._height=b.originalProperties[a.id]._height,a.properties._top=b.originalProperties[a.id]._top,a.properties._left=b.originalProperties[a.id]._left,a.properties._angle=b.originalProperties[a.id]._angle}),b.isMouseDown=!1,delete b.mouseDownPos,delete b.activeContainer):b.actions.unselect.onTap())},g),shortcut.add("Ctrl+C",function(){b.actions.copy.onTap()},g),shortcut.add("Ctrl+V",function(){b.actions.paste.onTap()},g),shortcut.add("Ctrl+X",function(){b.actions.cut.onTap()},g),shortcut.add("Ctrl+A",function(){b.isMultiSelect||b.switchMultiSelect(),b.selectedFidgets=c.currentScreen.fidgets},g),shortcut.add("Ctrl+S",function(){d.downloadPropject()},g),shortcut.add("Ctrl+E",function(){b.isEditAvailable()&&b.switchEditMode()},g),shortcut.add("Ctrl+Z",function(){b.actions.undo.enabled&&b.isEditMode&&b.actions.undo.onTap()},g),shortcut.add("Ctrl+Shift+Z",function(){b.actions.redo.enabled&&b.isEditMode&&b.actions.redo.onTap()},g),shortcut.add("Delete",function(){b.actions["delete"].enabled&&b.actions["delete"].onTap()},g),shortcut.add("Ctrl+I",function(){b.isEditAvailable()&&c.loaded&&!b.isEditMode&&c.showAddScreen(!0)},g),shortcut.add("Alt+Down",function(){var a=c.screens.indexOf(c.currentScreen)+1;a==c.screens.length&&(a=0),f.path(c.screens[a].properties.name)},g),shortcut.add("Alt+Up",function(){var a=c.screens.indexOf(c.currentScreen)-1;0>a&&(a=c.screens.length-1),f.path(c.screens[a].properties.name)},g),shortcut.add("Enter",function(){b.isEditAvailable()&&!b.isEditMode&&a.editScreen(c.currentScreen),b.isEditAvailable()&&b.isEditMode&&b.openProperties()},g),$(document).keydown(function(a){return b.actions.resize&&a.shiftKey&&0==a.charCode&&!h&&1==b.selectedFidgets.length&&!b.actions.resize.sticked?(h=!0,void b.actions.resize.onTap()):a.ctrlKey&&!h?(h=!0,b.deltaMove=e.gridsize,void b.onKeyDown({keyCode:a.keyCode,ctrlKey:!1})):void 0}),$(document).keyup(function(a){b.actions.resize&&16==a.keyCode&&h&&1==b.selectedFidgets.length&&b.actions.resize.sticked&&b.actions.resize.onTap(),b.deltaMove=1,h=!1})}),{}}shortcutService.$inject=["$rootScope","editorService","projectService","projectWindowService","settingsWindowService","$location","popupService"];